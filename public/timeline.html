<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Journey Through Cyberspace | A Historical Timeline</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;600&family=Orbitron:wght@400;500;600;700;800;900&display=swap');

        @font-face {
            font-family: 'Rigid Square';
            src: local('Rigid Square'), local('RigidSquare');
            font-weight: normal;
            font-style: normal;
        }

        /* Orbitron is the web fallback for Rigid Square */
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --bg-dark: #000000;
            --bg-card: #0a0a0a;
            --blue-primary: #00d4ff;
            --blue-secondary: #0099cc;
            --blue-dark: #006b8f;
            --orange: #f7931a;
            --text-primary: #ffffff;
            --text-secondary: #8899aa;
            --line-color: rgba(0, 212, 255, 0.6);
        }

        body {
            background: var(--bg-dark);
            color: var(--text-primary);
            font-family: 'Inter', sans-serif;
            overflow: hidden;
            height: 100vh;
            font-feature-settings: "zero" off;
        }

        /* Canvas Background */
        #canvas-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100vh;
            z-index: 1;
            pointer-events: none;
        }

        #shooting-stars-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 3;
            pointer-events: none;
            overflow: hidden;
        }

        .shooting-star {
            position: absolute;
            height: 1px;
            background: linear-gradient(90deg, rgba(255,255,255,0) 0%, rgba(255,255,255,1) 50%, rgba(255,255,255,1) 100%);
            border-radius: 1px;
            animation: shootingStarDraw 0.5s ease-out forwards;
            transform-origin: left center;
            box-shadow: 0 0 6px rgba(255,255,255,0.6), 0 0 12px rgba(255,255,255,0.3);
        }

        @keyframes shootingStarDraw {
            0% {
                width: 0;
                opacity: 1;
            }
            40% {
                width: 400px;
                opacity: 1;
            }
            100% {
                width: 400px;
                opacity: 0;
            }
        }

        #content {
            position: fixed;
            width: 100%;
            height: 100vh;
            z-index: 10;
            overflow: hidden;
        }

        /* Hero Section */
        .hero {
            position: absolute;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            opacity: 1;
            transition: opacity 0.6s ease;
        }

        .hero.hidden {
            opacity: 0;
            pointer-events: none;
        }

        .presented-by {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1rem;
            opacity: 0;
            animation: fadeInScale 1.5s ease forwards;
        }

        .presented-by-text {
            font-size: 0.85rem;
            font-weight: 400;
            color: var(--text-secondary);
            letter-spacing: 1px;
        }

        .hero-logo {
            width: 160px;
            opacity: 1;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }
            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .hero-title {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: clamp(2.5rem, 8vw, 5rem);
            font-weight: 800;
            background: linear-gradient(135deg, var(--blue-primary), var(--blue-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            opacity: 0;
            animation: fadeInUp 1.5s ease 0.3s forwards;
        }

        .hero-subtitle {
            font-size: clamp(1rem, 3vw, 1.5rem);
            color: var(--text-secondary);
            font-weight: 300;
            margin-bottom: 3rem;
            opacity: 0;
            animation: fadeInUp 1.5s ease 0.6s forwards;
        }

        .scroll-indicator {
            font-size: 0.9rem;
            color: var(--blue-primary);
            text-transform: uppercase;
            letter-spacing: 3px;
            font-weight: 600;
            opacity: 0;
            animation: fadeInBounce 1.5s ease 0.9s forwards;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes fadeInBounce {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            60% {
                opacity: 1;
                transform: translateY(-5px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Chapter Title Cards */
        .chapter-card {
            position: absolute;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: flex-start;
            padding-top: 15vh;
            text-align: center;
            opacity: 0;
            transition: opacity 0.8s ease;
            pointer-events: none;
        }

        .chapter-card.active {
            opacity: 1;
        }

        .chapter-number {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 1.2rem;
            color: var(--blue-primary);
            letter-spacing: 4px;
            margin-bottom: 1rem;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.2s;
        }

        .chapter-card.active .chapter-number {
            opacity: 1;
            transform: translateY(0);
        }

        .chapter-title {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: clamp(2.5rem, 6vw, 4.5rem);
            font-weight: 800;
            background: linear-gradient(135deg, var(--blue-primary), var(--blue-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 1rem;
            opacity: 0;
            transform: scale(0.9);
            transition: all 0.8s ease 0.4s;
        }

        .chapter-card.active .chapter-title {
            opacity: 1;
            transform: scale(1);
        }

        .chapter-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            font-weight: 300;
            max-width: 600px;
            opacity: 0;
            transform: translateY(20px);
            transition: all 0.8s ease 0.6s;
        }

        .chapter-card.active .chapter-subtitle {
            opacity: 1;
            transform: translateY(0);
        }

        /* Timeline Container */
        .timeline-wrapper {
            position: absolute;
            left: 0;
            top: 0;
            width: 100%;
            height: 100vh;
            opacity: 0;
            transition: opacity 0.6s ease;
        }

        .timeline-wrapper.visible {
            opacity: 1;
        }


        /* Horizontal Timeline Line */
        .timeline-line {
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 3px;
            background: var(--line-color);
            transform: translateY(-50%);
            z-index: 1;
        }

        /* Year notches on timeline */
        .year-notch {
            position: absolute;
            top: 50%;
            transform: translate(-50%, -50%);
            z-index: 9998;
            cursor: pointer;
            opacity: 0;
            transition: opacity 0.5s ease;
            display: flex;
            flex-direction: column;
            align-items: center;
            pointer-events: none;
            padding: 10px 8px;
        }

        .year-notch::before {
            content: '';
            position: absolute;
            top: -5px;
            left: -10px;
            right: -10px;
            bottom: -5px;
        }

        .year-notch.visible {
            opacity: 1;
            pointer-events: auto !important;
        }

        .year-notch .notch-line {
            width: 2px;
            height: 12px;
            background: var(--blue-primary);
            transition: all 0.2s ease;
        }

        .year-notch .notch-year {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 0.6rem;
            color: var(--blue-primary);
            opacity: 0.6;
            margin-bottom: 4px;
            transition: all 0.2s ease;
            white-space: nowrap;
        }

        .year-notch:hover .notch-line {
            width: 3px;
            height: 16px;
            box-shadow: 0 0 8px var(--blue-primary);
        }

        .year-notch:hover .notch-year {
            opacity: 1;
            font-size: 0.7rem;
        }

        /* Genesis lightning icon */
        .year-notch .genesis-icon {
            position: absolute;
            top: -8px;
            width: 12px;
            height: 12px;
            opacity: 0.7;
        }

        .year-notch .genesis-icon svg {
            width: 100%;
            height: 100%;
            fill: var(--blue-primary);
        }

        .year-notch:hover .genesis-icon {
            opacity: 1;
        }

        /* Timeline Events */
        .timeline-events {
            position: absolute;
            width: 100%;
            height: 100vh;
        }

        .timeline-event {
            position: absolute;
            left: 0;
            width: 100vw;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 2rem;
            opacity: 0;
            transition: opacity 0.6s ease;
            pointer-events: none;
        }
        
        .timeline-event.active {
            opacity: 1;
            pointer-events: none;
        }

        .timeline-event.active .event-card {
            pointer-events: auto;
        }

        /* Notch on timeline - will move left to right */
        .timeline-notch {
            position: absolute;
            top: 50%;
            left: 10%; /* Start position */
            width: 50px;
            height: 50px;
            background: var(--bg-dark);
            border: none;
            border-radius: 50%;
            transform: translate(-50%, -50%);
            z-index: 9999;
            opacity: 0;
            cursor: grab;
            transition: left 0.6s cubic-bezier(0.25, 0.46, 0.45, 0.94),
                        opacity 0.3s ease;
            pointer-events: auto !important;
        }

        .timeline-notch:active {
            cursor: grabbing;
        }

        .timeline-notch.active {
            opacity: 1;
        }

        .timeline-notch::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 70px;
            height: 70px;
            transform: translate(-50%, -50%);
            border-radius: 50%;
            cursor: grab;
        }

        .timeline-notch .notch-ring {
            width: 100%;
            height: 100%;
            transition: transform 0.1s linear;
            filter: drop-shadow(0 0 10px rgba(0, 212, 255, 0.6));
            pointer-events: none;
        }

        /* Event Card - positioned above timeline */
        .event-card {
            max-width: 700px;
            background: transparent;
            border: none;
            padding: 0 3rem 2rem 3rem;
            position: absolute;
            top: 10%;
            opacity: 0;
            transform: translateY(50px);
            transition: all 0.8s cubic-bezier(0.34, 1.56, 0.64, 1);
            box-shadow: none;
            z-index: 20;
        }

        .timeline-event.active .event-card {
            opacity: 1;
            transform: translateY(0);
        }

        .year {
            font-size: 4rem;
            font-weight: 800;
            color: var(--blue-primary);
            text-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
            margin-bottom: 1rem;
            font-family: 'Inter', sans-serif;
        }

        .event-title {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 1.5rem;
            color: var(--text-primary);
            line-height: 1.2;
        }

        .event-description {
            font-size: 1.1rem;
            line-height: 1.8;
            color: var(--text-secondary);
            font-weight: 300;
            margin-bottom: 1.5rem;
        }

        .image-placeholder {
            width: 100%;
            max-width: 700px;
            height: 280px;
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.05), rgba(0, 153, 204, 0.05));
            border: 1px dashed rgba(0, 212, 255, 0.3);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: 57%;
            left: 50%;
            transform: translateX(-50%) scale(0.95);
            overflow: hidden;
            opacity: 0;
            transition: opacity 1s ease 0.4s, transform 1s ease 0.4s;
        }

        .timeline-event.active .image-placeholder {
            opacity: 1;
            transform: translateX(-50%) scale(1);
        }

        .placeholder-text {
            font-family: 'JetBrains Mono', monospace;
            color: rgba(0, 212, 255, 0.5);
            font-size: 0.9rem;
            letter-spacing: 1px;
            text-transform: uppercase;
            position: relative;
            z-index: 1;
        }

        .hash-decoration {
            font-family: 'JetBrains Mono', monospace;
            font-size: 0.75rem;
            color: rgba(0, 212, 255, 0.4);
            margin-top: 1rem;
            word-break: break-all;
        }

        /* Floating Quote - top right corner */
        .event-quote {
            position: fixed;
            top: 4rem;
            right: 4rem;
            max-width: 320px;
            font-family: 'JetBrains Mono', monospace;
            font-style: italic;
            font-size: 0.85rem;
            color: var(--blue-primary);
            text-align: right;
            line-height: 1.6;
            opacity: 0;
            transform: translateX(20px);
            transition: opacity 0.8s ease 0.5s, transform 0.8s ease 0.5s;
            z-index: 50;
        }

        .timeline-event.active .event-quote {
            opacity: 0.8;
            transform: translateX(0);
        }

        /* Learn More Button */
        .learn-more-btn {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: transparent;
            border: 1px solid var(--blue-primary);
            color: var(--blue-primary);
            padding: 0.5rem 1rem;
            font-size: 0.8rem;
            letter-spacing: 0.5px;
            cursor: pointer;
            margin-left: 1rem;
            transition: all 0.3s ease;
            vertical-align: middle;
            position: relative;
            z-index: 500;
        }

        .learn-more-btn:hover {
            background: var(--blue-primary);
            color: var(--bg-dark);
            box-shadow: 0 0 20px rgba(0, 212, 255, 0.4);
        }

        .learn-more-btn .arrow {
            transition: transform 0.3s ease;
        }

        .learn-more-btn:hover .arrow {
            transform: translateY(3px);
        }

        /* Title wrapper for inline button */
        .event-title-wrapper {
            display: flex;
            align-items: flex-start;
            flex-wrap: nowrap;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .event-title-wrapper .event-title {
            margin-bottom: 0;
            flex: 1;
        }

        .event-title-wrapper .learn-more-btn {
            flex-shrink: 0;
            margin-left: 0;
            margin-top: 0.3rem;
        }

        /* Back to Timeline Button */
        .back-to-timeline {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            position: fixed;
            top: 2rem;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid var(--blue-primary);
            color: var(--blue-primary);
            padding: 0.75rem 2rem;
            font-size: 0.85rem;
            letter-spacing: 0.5px;
            cursor: pointer;
            z-index: 10003;
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            opacity: 0;
            pointer-events: none;
        }

        .back-to-timeline.visible {
            transform: translateX(-50%) translateY(0);
            opacity: 1;
            pointer-events: auto;
        }

        .back-to-timeline:hover {
            background: var(--blue-primary);
            color: var(--bg-dark);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
        }

        .back-to-timeline .arrow-up {
            transition: transform 0.3s ease;
        }

        .back-to-timeline:hover .arrow-up {
            transform: translateY(-3px);
        }

        /* Light/Dark Mode Toggle */
        .mode-toggle {
            position: fixed;
            top: 2rem;
            left: calc(50% + 140px);
            background: rgba(0, 0, 0, 0.9);
            border: 1px solid var(--blue-primary);
            width: 70px;
            height: 34px;
            padding: 3px;
            cursor: pointer;
            z-index: 10003;
            transition: all 0.3s ease;
            display: none;
            align-items: center;
            justify-content: space-between;
            border-radius: 17px;
        }

        .mode-toggle.visible {
            display: flex;
        }

        .mode-toggle:hover {
            border-color: #fff;
        }

        .mode-toggle .toggle-track {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 100%;
            height: 100%;
            position: relative;
        }

        .mode-toggle .toggle-icon {
            position: absolute;
            width: 16px;
            height: 16px;
            z-index: 2;
            transition: opacity 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mode-toggle .moon-icon {
            left: 9px;
        }

        .mode-toggle .sun-icon {
            right: 9px;
        }

        .mode-toggle .toggle-icon svg {
            width: 100%;
            height: 100%;
            fill: var(--blue-primary);
            stroke: var(--blue-primary);
            transition: fill 0.3s ease, stroke 0.3s ease;
        }

        .mode-toggle .sun-icon svg line {
            stroke: var(--blue-primary);
            transition: stroke 0.3s ease;
        }

        /* Moon icon - covered by slider in dark mode (default), needs to be dark */
        .mode-toggle .moon-icon svg {
            fill: #000;
            stroke: #000;
        }

        /* Sun icon stays blue in dark mode */
        .mode-toggle .sun-icon svg {
            fill: var(--blue-primary);
            stroke: var(--blue-primary);
        }

        /* When light mode active, moon goes back to blue */
        .mode-toggle.light-active .moon-icon svg {
            fill: var(--blue-primary);
            stroke: var(--blue-primary);
        }

        /* When light mode active, sun is under slider, needs to be dark */
        .mode-toggle.light-active .sun-icon svg {
            fill: #000;
            stroke: #000;
        }

        .mode-toggle.light-active .sun-icon svg line {
            stroke: #000;
        }

        .mode-toggle .toggle-slider {
            position: absolute;
            left: 3px;
            width: 28px;
            height: 28px;
            background: var(--blue-primary);
            border-radius: 50%;
            transition: left 0.3s ease;
            z-index: 1;
        }

        .mode-toggle.light-active .toggle-slider {
            left: calc(100% - 31px);
        }

        /* Expanded Detail Section */
        .detail-section {
            position: fixed;
            top: 100vh;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(180deg, var(--bg-dark) 0%, #050510 100%);
            padding: 6rem 2rem 4rem;
            z-index: 10002;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.6s ease, top 0.8s cubic-bezier(0.34, 1.56, 0.64, 1), background 0.4s ease;
            overflow-y: auto;
            overflow-x: hidden;
        }

        .detail-section.active {
            opacity: 1;
            pointer-events: auto;
            top: 0;
        }

        /* When opened from quiz review - appear instantly with highest z-index */
        .detail-section.from-quiz {
            transition: none !important;
            z-index: 20000 !important;
        }

        /* Light Mode Styles */
        .detail-section.light-mode {
            background: linear-gradient(180deg, #f5f5f5 0%, #ffffff 100%);
        }

        .detail-section.light-mode .detail-header {
            border-bottom-color: rgba(0, 100, 150, 0.2);
        }

        .detail-section.light-mode .detail-year {
            color: #0077aa;
        }

        .detail-section.light-mode .detail-title {
            color: #111111;
        }

        .detail-section.light-mode .detail-subtitle {
            color: #444444;
        }

        .detail-section.light-mode .detail-block {
            background: rgba(0, 150, 200, 0.05);
            border-color: rgba(0, 150, 200, 0.2);
        }

        .detail-section.light-mode .detail-block h3 {
            color: #0077aa;
        }

        .detail-section.light-mode .detail-block h3::before {
            background: #0077aa;
        }

        .detail-section.light-mode .detail-block p {
            color: #333333;
        }

        .detail-section.light-mode .person-card {
            background: rgba(0, 0, 0, 0.03);
            border-color: rgba(0, 150, 200, 0.2);
        }

        .detail-section.light-mode .person-name {
            color: #111111;
        }

        .detail-section.light-mode .person-role {
            color: #0077aa;
        }

        .detail-section.light-mode .person-bio {
            color: #444444;
        }

        .detail-section.light-mode .person-link {
            color: #0077aa;
        }

        .detail-section.light-mode .resource-link {
            background: rgba(0, 0, 0, 0.03);
            border-color: rgba(0, 150, 200, 0.15);
        }

        .detail-section.light-mode .resource-icon {
            background: rgba(0, 150, 200, 0.1);
            color: #0077aa;
        }

        .detail-section.light-mode .resource-title {
            color: #111111;
        }

        .detail-section.light-mode .resource-desc {
            color: #555555;
        }

        .detail-section.light-mode .resource-url {
            color: #0077aa;
        }

        .detail-container {
            max-width: 900px;
            margin: 0 auto;
        }

        .detail-header {
            margin-bottom: 3rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid rgba(0, 212, 255, 0.2);
        }

        .detail-year {
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            color: var(--blue-primary);
            letter-spacing: 3px;
            margin-bottom: 0.5rem;
        }

        .detail-title {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .detail-subtitle {
            font-size: 1.1rem;
            color: var(--text-secondary);
            font-weight: 300;
            line-height: 1.6;
        }

        .detail-content {
            display: grid;
            gap: 3rem;
        }

        .detail-block {
            background: rgba(0, 212, 255, 0.03);
            border: 1px solid rgba(0, 212, 255, 0.1);
            border-radius: 8px;
            padding: 2rem;
        }

        .detail-block h3 {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--blue-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .detail-block h3::before {
            content: '';
            width: 4px;
            height: 1.2rem;
            background: var(--blue-primary);
            border-radius: 2px;
        }

        .detail-block p {
            font-size: 1rem;
            line-height: 1.8;
            color: var(--text-secondary);
            margin-bottom: 1rem;
        }

        .detail-block p:last-child {
            margin-bottom: 0;
        }

        /* People Cards */
        .people-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }

        .person-card {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(0, 212, 255, 0.15);
            border-radius: 8px;
            padding: 1.5rem;
            transition: all 0.3s ease;
        }

        .person-card:hover {
            border-color: var(--blue-primary);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.1);
        }

        .person-name {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .person-role {
            font-size: 0.85rem;
            color: var(--blue-primary);
            margin-bottom: 0.75rem;
            font-family: 'JetBrains Mono', monospace;
        }

        .person-bio {
            font-size: 0.9rem;
            color: var(--text-secondary);
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .person-link {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--blue-primary);
            text-decoration: none;
            font-size: 0.8rem;
            font-family: 'JetBrains Mono', monospace;
            transition: all 0.3s ease;
        }

        .person-link:hover {
            color: var(--text-primary);
        }

        /* Resource Links */
        .resources-list {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-top: 1rem;
        }

        .resource-link {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
            padding: 1rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 212, 255, 0.1);
            border-radius: 6px;
            text-decoration: none;
            transition: all 0.3s ease;
        }

        .resource-link:hover {
            border-color: var(--blue-primary);
            background: rgba(0, 212, 255, 0.05);
        }

        .resource-icon {
            width: 40px;
            height: 40px;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--blue-primary);
            font-size: 1.2rem;
            flex-shrink: 0;
        }

        .resource-info {
            flex: 1;
        }

        .resource-title {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 0.95rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }

        .resource-desc {
            font-size: 0.8rem;
            color: var(--text-secondary);
            line-height: 1.5;
        }

        .resource-url {
            font-size: 0.7rem;
            color: var(--blue-dark);
            font-family: 'JetBrains Mono', monospace;
            margin-top: 0.25rem;
            word-break: break-all;
        }

        /* Genesis Lightning Strike Effect */
        .genesis-lightning {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            pointer-events: none;
            z-index: 100;
            opacity: 0;
        }

        .genesis-lightning.active {
            animation: lightningStrike 2s ease forwards;
        }

        @keyframes lightningStrike {
            0% { opacity: 0; }
            10% { opacity: 1; background: radial-gradient(circle at 50% 0%, rgba(247, 147, 26, 0.8), transparent 50%); }
            15% { opacity: 0; }
            20% { opacity: 1; background: radial-gradient(circle at 50% 0%, rgba(0, 212, 255, 0.9), transparent 50%); }
            25% { opacity: 0; }
            30% { opacity: 1; background: radial-gradient(circle at 50% 0%, rgba(255, 255, 255, 0.95), transparent 40%); }
            35% { opacity: 0; }
            100% { opacity: 0; }
        }

        .lightning-bolt {
            position: absolute;
            top: -10%;
            left: 50%;
            width: 4px;
            height: 0;
            background: linear-gradient(180deg, var(--orange), var(--blue-primary));
            box-shadow: 0 0 20px var(--orange), 0 0 40px var(--blue-primary);
            transform: translateX(-50%);
            animation: boltStrike 0.6s ease forwards;
        }

        @keyframes boltStrike {
            0% { height: 0; }
            50% { height: 120vh; }
            100% { height: 120vh; opacity: 0; }
        }

        /* Ending Section */
        .ending {
            position: absolute;
            left: 0;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            padding: 2rem;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.6s ease;
        }

        .ending.visible {
            opacity: 1;
            pointer-events: auto;
        }

        .ending-logo {
            width: 160px;
            margin-bottom: 1rem;
            opacity: 0;
            transform: scale(0.9);
            transition: opacity 1.5s ease, transform 1.5s ease;
        }

        .ending.visible .ending-logo {
            opacity: 1;
            transform: scale(1);
        }

        .ending-text {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: clamp(2rem, 6vw, 4rem);
            font-weight: 700;
            background: linear-gradient(135deg, var(--blue-primary), var(--blue-secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 1.5s ease 0.3s, transform 1.5s ease 0.3s;
        }

        .ending.visible .ending-text {
            opacity: 1;
            transform: translateY(0);
        }

        .ending-subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-top: 2rem;
            font-weight: 300;
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 1.5s ease 0.6s, transform 1.5s ease 0.6s;
        }

        .ending.visible .ending-subtitle {
            opacity: 1;
            transform: translateY(0);
        }

        .ending-subtitle a {
            color: var(--text-secondary);
            text-decoration: underline;
            transition: color 0.3s ease;
        }

        .ending-subtitle a:hover {
            color: #fff;
        }

        /* Quiz Button */
        .quiz-btn {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            margin-top: 2rem;
            padding: 1rem 2rem;
            background: transparent;
            border: 2px solid var(--blue-primary);
            color: var(--blue-primary);
            font-size: 1rem;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: all 0.3s ease;
            opacity: 0;
            transform: translateY(20px);
        }

        .ending.visible .quiz-btn {
            opacity: 1;
            transform: translateY(0);
            transition-delay: 0.9s;
        }

        .quiz-btn:hover {
            background: var(--blue-primary);
            color: var(--bg-dark);
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.5);
        }

        /* Quiz Modal */
        .quiz-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            display: none;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .quiz-modal.active {
            display: flex;
            opacity: 1;
        }

        .quiz-results-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background: linear-gradient(180deg, var(--bg-dark) 0%, #050510 100%);
            z-index: 10000;
            display: none;
            opacity: 0;
            transition: opacity 0.3s ease;
            overflow-y: auto;
            padding: 2rem;
        }

        .quiz-results-modal.active {
            display: block;
            opacity: 1;
        }

        .quiz-container {
            background: var(--bg-card);
            border: 1px solid var(--blue-primary);
            border-radius: 12px;
            max-width: 700px;
            width: 90%;
            max-height: 85vh;
            overflow-y: auto;
            padding: 2rem;
            position: relative;
        }

        .quiz-results-container {
            max-width: 600px;
            margin: 0 auto;
        }

        .quiz-close {
            position: absolute;
            top: 1rem;
            right: 1rem;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 2rem;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .quiz-close:hover {
            color: var(--blue-primary);
        }

        .quiz-title {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 1.5rem;
            color: var(--blue-primary);
            margin-bottom: 1.5rem;
            text-align: center;
        }

        .results-header {
            text-align: center;
            padding-bottom: 1rem;
            border-bottom: 1px solid rgba(0, 212, 255, 0.1);
            margin-bottom: 1rem;
            position: relative;
        }

        .results-close-btn {
            position: absolute;
            top: 0;
            right: 0;
            background: none;
            border: none;
            color: var(--text-secondary);
            font-size: 2rem;
            cursor: pointer;
            transition: color 0.3s ease;
            line-height: 1;
        }

        .results-close-btn:hover {
            color: var(--blue-primary);
        }

        .results-title {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 1.5rem;
            color: var(--blue-primary);
            margin-bottom: 0.75rem;
        }

        .quiz-progress {
            margin-bottom: 2rem;
            text-align: center;
        }

        .quiz-progress span {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        .progress-bar-quiz {
            width: 100%;
            height: 4px;
            background: rgba(0, 212, 255, 0.2);
            border-radius: 2px;
            margin-top: 0.5rem;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: var(--blue-primary);
            width: 0%;
            transition: width 0.3s ease;
        }

        .quiz-content {
            min-height: 300px;
        }

        .quiz-question {
            font-size: 1.1rem;
            color: var(--text-primary);
            margin-bottom: 1.5rem;
            line-height: 1.5;
        }

        .quiz-options {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .quiz-option {
            display: flex;
            align-items: center;
            padding: 1rem;
            background: rgba(0, 212, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.2);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-option:hover {
            border-color: var(--blue-primary);
            background: rgba(0, 212, 255, 0.1);
        }

        .quiz-option.selected {
            border-color: var(--blue-primary);
            background: rgba(0, 212, 255, 0.15);
        }

        .quiz-option input {
            display: none;
        }

        .quiz-option .option-marker {
            width: 20px;
            height: 20px;
            border: 2px solid var(--blue-primary);
            border-radius: 50%;
            margin-right: 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }

        .quiz-option.selected .option-marker::after {
            content: '';
            width: 10px;
            height: 10px;
            background: var(--blue-primary);
            border-radius: 50%;
        }

        .quiz-option .option-text {
            color: var(--text-primary);
            font-size: 0.95rem;
        }

        .quiz-navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
            gap: 1rem;
        }

        .quiz-nav-btn {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            padding: 0.75rem 1.5rem;
            background: transparent;
            border: 1px solid var(--text-secondary);
            color: var(--text-secondary);
            font-size: 0.9rem;
            letter-spacing: 0.5px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: none;
        }

        .quiz-nav-btn:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .quiz-nav-btn.primary {
            border-color: var(--blue-primary);
            color: var(--blue-primary);
        }

        .quiz-nav-btn.primary:hover:not(:disabled) {
            background: var(--blue-primary);
            color: var(--bg-dark);
        }

        .quiz-nav-btn:hover:not(:disabled) {
            border-color: var(--blue-primary);
            color: var(--blue-primary);
        }

        /* Results */
        .score-display {
            text-align: center;
            margin: 0.5rem 0;
        }

        .score-number {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 3rem;
            color: var(--blue-primary);
        }

        .score-total {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 1.25rem;
            color: var(--text-secondary);
        }

        .score-message {
            text-align: center;
            color: var(--text-secondary);
            margin-bottom: 0.75rem;
            font-size: 0.85rem;
        }

        .further-reading {
            background: rgba(0, 212, 255, 0.03);
            border: 1px solid rgba(0, 212, 255, 0.1);
            border-radius: 8px;
            padding: 1.25rem;
            margin-top: 1rem;
        }

        .further-reading h3 {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            color: var(--blue-primary);
            margin-bottom: 1rem;
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .further-reading h3::before {
            content: '';
            width: 4px;
            height: 1.2rem;
            background: var(--blue-primary);
            border-radius: 2px;
        }

        .further-reading .reading-list {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .further-reading .reading-link {
            display: flex;
            align-items: flex-start;
            gap: 0.75rem;
            padding: 0.75rem;
            background: rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(0, 212, 255, 0.1);
            border-radius: 6px;
            text-decoration: none;
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .further-reading .reading-link:hover {
            border-color: var(--blue-primary);
            background: rgba(0, 212, 255, 0.05);
        }

        .further-reading .reading-icon {
            width: 32px;
            height: 32px;
            background: rgba(0, 212, 255, 0.1);
            border-radius: 6px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--blue-primary);
            font-size: 1rem;
            flex-shrink: 0;
        }

        .further-reading .reading-info {
            flex: 1;
        }

        .further-reading .reading-title {
            font-family: 'Rigid Square', 'Orbitron', 'Inter', sans-serif;
            font-size: 0.85rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 0.2rem;
        }

        .further-reading .reading-desc {
            font-size: 0.75rem;
            color: var(--text-secondary);
            line-height: 1.4;
        }

        .further-reading .reading-link:hover .reading-title {
            color: var(--blue-primary);
        }

        .results-actions {
            display: flex;
            justify-content: center;
            gap: 1rem;
            flex-shrink: 0;
            padding-top: 0.5rem;
        }

        .share-confirmation {
            text-align: center;
            color: var(--blue-primary);
            margin-top: 1rem;
            font-size: 0.9rem;
        }

        /* Progress Bar */
        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 2px;
            background: linear-gradient(90deg, var(--blue-primary), var(--blue-secondary));
            z-index: 100;
            transform-origin: left;
            transform: scaleX(0);
            box-shadow: 0 0 10px var(--blue-primary);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .presented-by {
                gap: 0.75rem;
            }

            .presented-by-text {
                font-size: 0.7rem;
            }

            .hero-logo {
                width: 120px;
            }

            .ending-logo {
                width: 120px;
            }

            .event-card {
                padding: 2rem;
            }

            .year {
                font-size: 2.5rem;
            }

            .event-title {
                font-size: 1.5rem;
            }

            .image-placeholder {
                height: 200px;
            }

            .chapter-title {
                font-size: 2rem;
            }
        }
    </style>
    <script>
        // Global state for Learn More functionality
        let isInDetailView = false;
        let activeDetailId = null;
    </script>
</head>
<body>
    <div class="progress-bar"></div>
    <button class="back-to-timeline" id="backToTimeline">
        <span class="arrow-up">↑</span>
        Back to Timeline
    </button>
    <button class="mode-toggle" id="modeToggle" title="Toggle Light/Dark Mode">
        <div class="toggle-track">
            <span class="toggle-icon moon-icon">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/>
                </svg>
            </span>
            <span class="toggle-icon sun-icon">
                <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="12" cy="12" r="5"/>
                    <line x1="12" y1="1" x2="12" y2="3" stroke-width="2" stroke-linecap="round"/>
                    <line x1="12" y1="21" x2="12" y2="23" stroke-width="2" stroke-linecap="round"/>
                    <line x1="4.22" y1="4.22" x2="5.64" y2="5.64" stroke-width="2" stroke-linecap="round"/>
                    <line x1="18.36" y1="18.36" x2="19.78" y2="19.78" stroke-width="2" stroke-linecap="round"/>
                    <line x1="1" y1="12" x2="3" y2="12" stroke-width="2" stroke-linecap="round"/>
                    <line x1="21" y1="12" x2="23" y2="12" stroke-width="2" stroke-linecap="round"/>
                    <line x1="4.22" y1="19.78" x2="5.64" y2="18.36" stroke-width="2" stroke-linecap="round"/>
                    <line x1="18.36" y1="5.64" x2="19.78" y2="4.22" stroke-width="2" stroke-linecap="round"/>
                </svg>
            </span>
            <div class="toggle-slider"></div>
        </div>
    </button>
    <div id="canvas-container"></div>
    <div class="genesis-lightning"></div>
    <div id="shooting-stars-container"></div>
    
    <div id="content">
        <!-- Hero Section -->
        <section class="hero">
            <div class="presented-by">
                <span class="presented-by-text">Presented by</span>
                <img src="blockstream-logo.png" alt="Blockstream" class="hero-logo">
            </div>
            <h1 class="hero-title">A Journey Through Cyberspace</h1>
            <p class="hero-subtitle">A Historic Walk Through The Events That Made Bitcoin Possible</p>
            <div class="scroll-indicator">— Scroll to Begin —</div>
        </section>

        <!-- Timeline Wrapper -->
        <div class="timeline-wrapper">
            <div class="timeline-line"></div>
            <div class="timeline-notch" id="timelineNotch">
                <img src="blockstream-ring.png" alt="" class="notch-ring">
            </div>
            <div class="timeline-events">
                
                <!-- ACT I: THE FOUNDATIONS -->
                <div class="chapter-card" data-chapter="foundations">
                    <div class="chapter-number">ACT I</div>
                    <h2 class="chapter-title">The Foundations</h2>
                    <p class="chapter-subtitle">Building the cryptographic tools that would make Bitcoin possible</p>
                </div>

                <!-- 1976 -->
                <div class="timeline-event" data-act="foundations" data-detail="diffie-hellman-detail">
                    <div class="event-card">
                        <div class="year">1976</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Diffie-Hellman Key Exchange</h2>
                            <button class="learn-more-btn" data-detail-target="diffie-hellman-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            Whitfield Diffie and Martin Hellman publish "New Directions in Cryptography," 
                            introducing public-key cryptography. This revolutionary concept would become 
                            foundational to Bitcoin's security model decades later.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Diffie-Hellman Paper Image]</span>
                    </div>

                    <div class="detail-section" id="diffie-hellman-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">1976</div>
                                <h2 class="detail-title">The Birth of Public-Key Cryptography</h2>
                                <p class="detail-subtitle">
                                    In November 1976, two Stanford researchers published a paper that would reshape 
                                    the landscape of digital security forever. Their revolutionary idea solved a 
                                    problem that had plagued cryptographers for millennia.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Revolutionary Breakthrough</h3>
                                    <p>
                                        Before Diffie-Hellman, secure communication required both parties to somehow 
                                        share a secret key in advance—a chicken-and-egg problem. How do you securely 
                                        share a key before you have secure communication? Their paper "New Directions 
                                        in Cryptography" introduced asymmetric cryptography: two mathematically related 
                                        keys where one encrypts and the other decrypts.
                                    </p>
                                    <p>
                                        This breakthrough allowed two strangers to establish a shared secret over an 
                                        insecure channel. Eavesdroppers could watch the entire exchange and still be 
                                        unable to determine the key. It was mathematical magic that would later enable 
                                        secure internet communication, digital signatures, and cryptocurrency.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Pioneers</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Whitfield Diffie</div>
                                            <div class="person-role">Cryptographer & Visionary</div>
                                            <p class="person-bio">
                                                A visionary who spent years contemplating the problem of key distribution. 
                                                His unconventional thinking led to one of the most important discoveries 
                                                in computer science history.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Whitfield_Diffie" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                        <div class="person-card">
                                            <div class="person-name">Martin Hellman</div>
                                            <div class="person-role">Stanford Professor</div>
                                            <p class="person-bio">
                                                Stanford electrical engineering professor who provided the academic rigor 
                                                and mathematical framework that turned Diffie's intuitions into a formal system.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Martin_Hellman" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://ee.stanford.edu/~hellman/publications/24.pdf" target="_blank" class="resource-link">
                                            <div class="resource-icon">📄</div>
                                            <div class="resource-info">
                                                <div class="resource-title">New Directions in Cryptography (Original Paper)</div>
                                                <div class="resource-desc">The groundbreaking 1976 paper that introduced public-key cryptography.</div>
                                            </div>
                                        </a>
                                        <a href="https://en.wikipedia.org/wiki/Diffie%E2%80%93Hellman_key_exchange" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Diffie-Hellman Key Exchange - Wikipedia</div>
                                                <div class="resource-desc">Comprehensive overview of the protocol and its mathematical foundations.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 1983 -->
                <div class="timeline-event" data-act="foundations" data-detail="ecash-detail">
                    <div class="event-card">
                        <div class="year">1983</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">David Chaum's eCash</h2>
                            <button class="learn-more-btn" data-detail-target="ecash-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            David Chaum introduces the concept of digital cash with cryptographic anonymity 
                            in his paper "Blind Signatures for Untraceable Payments." The first serious 
                            attempt at creating private digital money.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[David Chaum Photo]</span>
                    </div>

                    <div class="detail-section" id="ecash-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">1983</div>
                                <h2 class="detail-title">The Godfather of Digital Cash</h2>
                                <p class="detail-subtitle">
                                    David Chaum conceived of anonymous digital money years before the internet went mainstream. 
                                    His 1982 dissertation at UC Berkeley is considered the first known proposal for a blockchain 
                                    protocol. His vision of financial privacy laid the technical foundations for the 
                                    cryptocurrency revolution.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>Blind Signatures: The Key Innovation</h3>
                                    <p>
                                        Chaum's breakthrough was the "blind signature"—a way for a bank to sign a digital 
                                        token without seeing what it was signing. In his 1983 paper, he used a brilliant 
                                        analogy: imagine putting a document inside a carbon paper-lined envelope. Someone 
                                        can sign the outside, and the signature transfers to the document inside, without 
                                        the signer ever seeing the contents.
                                    </p>
                                    <p>
                                        This enabled truly anonymous digital cash. A bank could verify that a token was 
                                        legitimate without tracking who spent it or where. For the first time, digital 
                                        transactions could be as private as physical cash.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>DigiCash: From Theory to Reality</h3>
                                    <p>
                                        In 1990, Chaum founded <strong>DigiCash</strong> in Amsterdam. The company developed 
                                        eCash—software that let users withdraw digital tokens to their computer, then spend 
                                        them anonymously. On <strong>October 23, 1995</strong>, eCash went live with real 
                                        U.S. dollars through Mark Twain Bank of St. Louis—the first deployment of anonymous 
                                        electronic cash.
                                    </p>
                                    <p>
                                        Major banks followed: Deutsche Bank, Credit Suisse, Bank Austria, and others ran 
                                        pilots. Microsoft reportedly offered $100 million to bundle eCash with Windows 95. 
                                        Visa proposed $40 million. But deal after deal fell through.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Why DigiCash Failed</h3>
                                    <p>
                                        Despite brilliant technology, DigiCash struggled. E-commerce was in its infancy—consumers 
                                        stuck with credit cards. Mark Twain Bank enrolled only 5,000 customers and 300 merchants. 
                                        Chaum later admitted the system "entered the market before e-commerce was fully integrated 
                                        within the Internet."
                                    </p>
                                    <p>
                                        In <strong>November 1998</strong>, DigiCash filed for bankruptcy. But the key lesson 
                                        informed Bitcoin's design: eCash still relied on banks as trusted third parties. 
                                        Satoshi Nakamoto's whitepaper would open by addressing exactly this flaw.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Pioneer</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">David Chaum</div>
                                            <div class="person-role">Cryptographer & eCash Inventor</div>
                                            <p class="person-bio">
                                                Born 1955 in Los Angeles. PhD from UC Berkeley (1982). Founded DigiCash and the 
                                                International Association for Cryptologic Research. Invented blind signatures, 
                                                mix networks (the ancestor of Tor), and digital cash. Still active today with 
                                                the xx network project.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/David_Chaum" target="_blank" class="person-link">Wikipedia →</a>
                                            <a href="https://chaum.com/" target="_blank" class="person-link" style="margin-left: 1rem;">Official Site →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Key Dates</h3>
                                    <div class="resources-list">
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">1982 — PhD Dissertation</div>
                                                <div class="resource-desc">First known blockchain protocol proposal: "Computer Systems Established, Maintained, and Trusted by Mutually Suspicious Groups"</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">1983 — Blind Signatures Paper</div>
                                                <div class="resource-desc">"Blind Signatures for Untraceable Payments" — the birth of digital cash</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">1990 — DigiCash Founded</div>
                                                <div class="resource-desc">Chaum founds DigiCash in Amsterdam to commercialize eCash</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">October 1995 — eCash Goes Live</div>
                                                <div class="resource-desc">Mark Twain Bank launches real USD-denominated eCash</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">November 1998 — Bankruptcy</div>
                                                <div class="resource-desc">DigiCash files for Chapter 11</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://nakamotoinstitute.org/library/blind-signatures/" target="_blank" class="resource-link">
                                            <div class="resource-icon">📜</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Blind Signatures for Untraceable Payments (1983)</div>
                                                <div class="resource-desc">Chaum's original paper — the foundation of digital cash</div>
                                            </div>
                                        </a>
                                        <a href="https://chaum.com/ecash/" target="_blank" class="resource-link">
                                            <div class="resource-icon">🏠</div>
                                            <div class="resource-info">
                                                <div class="resource-title">eCash — Chaum's Official Archive</div>
                                                <div class="resource-desc">Original press releases, photos, and documentation</div>
                                            </div>
                                        </a>
                                        <a href="https://bitcoinmagazine.com/culture/genesis-files-how-david-chaums-ecash-spawned-cypherpunk-dream" target="_blank" class="resource-link">
                                            <div class="resource-icon">📰</div>
                                            <div class="resource-info">
                                                <div class="resource-title">The Genesis Files: How eCash Spawned a Cypherpunk Dream</div>
                                                <div class="resource-desc">Bitcoin Magazine's deep-dive into eCash history</div>
                                            </div>
                                        </a>
                                        <a href="https://cryptome.org/jya/digicrash.htm" target="_blank" class="resource-link">
                                            <div class="resource-icon">📰</div>
                                            <div class="resource-info">
                                                <div class="resource-title">"How DigiCash Blew Everything" (1999)</div>
                                                <div class="resource-desc">The infamous article on DigiCash's rise and fall</div>
                                            </div>
                                        </a>
                                        <a href="https://en.wikipedia.org/wiki/DigiCash" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">DigiCash — Wikipedia</div>
                                                <div class="resource-desc">Company history, partnerships, and bankruptcy</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 1991 -->
                <div class="timeline-event" data-act="foundations" data-detail="timestamps-detail">
                    <div class="event-card">
                        <div class="year">1991</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Cryptographic Timestamps</h2>
                            <button class="learn-more-btn" data-detail-target="timestamps-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            Stuart Haber and W. Scott Stornetta describe how to timestamp digital documents 
                            cryptographically. Their work on linking documents in an immutable chain directly 
                            inspired Bitcoin's blockchain structure.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Timestamp Chain Diagram]</span>
                    </div>

                    <div class="detail-section" id="timestamps-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">1991</div>
                                <h2 class="detail-title">The Blockchain Before Bitcoin</h2>
                                <p class="detail-subtitle">
                                    Three of the eight citations in the Bitcoin whitepaper point to the work of 
                                    Haber and Stornetta. Their solution to the problem of timestamping digital 
                                    documents created the conceptual foundation for the blockchain.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Problem of Digital Trust</h3>
                                    <p>
                                        In the digital world, documents can be silently altered. How do you prove 
                                        that a document existed in its current form at a specific time? Traditional 
                                        timestamps could be forged. Haber and Stornetta solved this by cryptographically 
                                        linking each document to the ones before and after it.
                                    </p>
                                    <p>
                                        Their insight was profound: by creating a chain where each link depends on all 
                                        previous links, you make it computationally impossible to alter history without 
                                        detection. Sound familiar? This is exactly how blockchain works.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Most Cited Work in Bitcoin</h3>
                                    <p>
                                        Satoshi Nakamoto cited three papers by Haber and Stornetta in the Bitcoin whitepaper—more 
                                        than any other authors. Their 1991 paper "How to Time-Stamp a Digital Document" and 
                                        1993 paper on efficiency improvements using Merkle trees provided crucial building 
                                        blocks for Bitcoin's architecture.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Researchers</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Stuart Haber</div>
                                            <div class="person-role">Cryptographer</div>
                                            <p class="person-bio">
                                                Researcher at Bellcore who co-invented cryptographic timestamping. 
                                                Co-founder of Surety, the first commercial timestamping service.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Stuart_Haber" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                        <div class="person-card">
                                            <div class="person-name">W. Scott Stornetta</div>
                                            <div class="person-role">Physicist & Cryptographer</div>
                                            <p class="person-bio">
                                                Bellcore researcher who, alongside Haber, developed the conceptual 
                                                predecessor to blockchain technology.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/W._Scott_Stornetta" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://www.anf.es/pdf/Haber_Stornetta.pdf" target="_blank" class="resource-link">
                                            <div class="resource-icon">📄</div>
                                            <div class="resource-info">
                                                <div class="resource-title">How to Time-Stamp a Digital Document (1991)</div>
                                                <div class="resource-desc">The original paper that introduced cryptographic timestamping chains.</div>
                                            </div>
                                        </a>
                                        <a href="https://en.wikipedia.org/wiki/Linked_timestamping" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Linked Timestamping - Wikipedia</div>
                                                <div class="resource-desc">Overview of the technology that preceded blockchain.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ACT II: THE CYPHERPUNK REVOLUTION -->
                <div class="chapter-card" data-chapter="cypherpunks">
                    <div class="chapter-number">ACT II</div>
                    <h2 class="chapter-title">The Cypherpunk Revolution</h2>
                    <p class="chapter-subtitle">A movement forms around cryptography, privacy, and digital freedom</p>
                </div>

                <!-- 1992 -->
                <div class="timeline-event" data-act="cypherpunks" data-detail="cypherpunks-detail">
                    <div class="event-quote">"Privacy is necessary for an open society in the electronic age."</div>
                    <div class="event-card">
                        <div class="year">1992</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">The Cypherpunks Emerge</h2>
                            <button class="learn-more-btn" data-detail-target="cypherpunks-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            Eric Hughes, Timothy May, and John Gilmore found the Cypherpunks mailing list. 
                            This community of cryptographers, programmers, and privacy advocates becomes 
                            the intellectual birthplace of Bitcoin.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Cypherpunks Group Photo]</span>
                    </div>

                    <!-- Detail Section for Cypherpunks -->
                    <div class="detail-section" id="cypherpunks-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">1992</div>
                                <h2 class="detail-title">The Cypherpunks Emerge</h2>
                                <p class="detail-subtitle">
                                    In late 1992, a small group of cryptographers, programmers, and privacy advocates 
                                    began meeting monthly in the San Francisco Bay Area. What started as informal 
                                    gatherings at John Gilmore's company, Cygnus Solutions, would grow into one of 
                                    the most influential movements in the history of digital technology.
                                </p>
                            </div>

                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Birth of a Movement</h3>
                                    <p>
                                        The term "Cypherpunks" was coined by Jude Milhon at one of the first meetings—a 
                                        clever portmanteau of "cipher" and "cyberpunk." The movement was deeply libertarian 
                                        in philosophy, rooted in principles of decentralization, individual autonomy, and 
                                        freedom from centralized authority.
                                    </p>
                                    <p>
                                        The Cypherpunks mailing list quickly became a hub for technical discussions on 
                                        cryptography, privacy tools, and digital freedom. By 1994, it had 700 subscribers, 
                                        and by 1997, that number reached 2,000. The list averaged 30 messages per day, 
                                        covering everything from mathematics and cryptography to political philosophy.
                                    </p>
                                    <p>
                                        Their motto—"Cypherpunks write code"—emphasized action over mere discussion. 
                                        This culture of building functional tools led directly to technologies like PGP 
                                        for email encryption, anonymous remailers, and eventually, Bitcoin itself.
                                    </p>
                                </div>

                                <div class="detail-block">
                                    <h3>The Founders</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Eric Hughes</div>
                                            <div class="person-role">Author of "A Cypherpunk's Manifesto"</div>
                                            <p class="person-bio">
                                                American mathematician and computer programmer who founded and administered 
                                                the Cypherpunks mailing list. He created the first anonymous remailer and 
                                                authored the movement's defining document in March 1993.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Eric_Hughes_(cypherpunk)" target="_blank" class="person-link">
                                                Read Biography →
                                            </a>
                                        </div>
                                        <div class="person-card">
                                            <div class="person-name">Timothy C. May</div>
                                            <div class="person-role">Author of "The Crypto Anarchist Manifesto"</div>
                                            <p class="person-bio">
                                                Former Intel senior scientist who wrote the foundational "Crypto Anarchist 
                                                Manifesto" in 1988 and "The Cyphernomicon" FAQ. He envisioned a world where 
                                                cryptography enables anonymous communication and transactions.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Timothy_C._May" target="_blank" class="person-link">
                                                Read Biography →
                                            </a>
                                        </div>
                                        <div class="person-card">
                                            <div class="person-name">John Gilmore</div>
                                            <div class="person-role">EFF Co-Founder, GNU Contributor</div>
                                            <p class="person-bio">
                                                Early Sun Microsystems employee and co-founder of the Electronic Frontier 
                                                Foundation. He hosted the original mailing list on his toad.com server and 
                                                famously stated: "The Net interprets censorship as damage and routes around it."
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/John_Gilmore_(activist)" target="_blank" class="person-link">
                                                Read Biography →
                                            </a>
                                        </div>
                                    </div>
                                </div>

                                <div class="detail-block">
                                    <h3>Primary Sources & Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://www.activism.net/cypherpunk/manifesto.html" target="_blank" class="resource-link">
                                            <div class="resource-icon">📜</div>
                                            <div class="resource-info">
                                                <div class="resource-title">A Cypherpunk's Manifesto</div>
                                                <div class="resource-desc">Eric Hughes' defining essay from March 9, 1993 that outlines the movement's philosophy on privacy and cryptography.</div>
                                                <div class="resource-url">activism.net/cypherpunk/manifesto.html</div>
                                            </div>
                                        </a>
                                        <a href="https://www.activism.net/cypherpunk/crypto-anarchy.html" target="_blank" class="resource-link">
                                            <div class="resource-icon">⚡</div>
                                            <div class="resource-info">
                                                <div class="resource-title">The Crypto Anarchist Manifesto</div>
                                                <div class="resource-desc">Timothy C. May's 1988 vision of a world transformed by cryptographic technology enabling anonymous transactions.</div>
                                                <div class="resource-url">activism.net/cypherpunk/crypto-anarchy.html</div>
                                            </div>
                                        </a>
                                        <a href="https://mailing-list-archive.cryptoanarchy.wiki/" target="_blank" class="resource-link">
                                            <div class="resource-icon">📧</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Cypherpunks Mailing List Archive</div>
                                                <div class="resource-desc">Searchable archive of the original mailing list posts from the 1990s—the intellectual birthplace of Bitcoin.</div>
                                                <div class="resource-url">mailing-list-archive.cryptoanarchy.wiki</div>
                                            </div>
                                        </a>
                                        <a href="https://nakamotoinstitute.org/authors/timothy-c-may/" target="_blank" class="resource-link">
                                            <div class="resource-icon">📚</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Satoshi Nakamoto Institute - Tim May's Writings</div>
                                                <div class="resource-desc">Collection of Timothy C. May's writings preserved by the Satoshi Nakamoto Institute.</div>
                                                <div class="resource-url">nakamotoinstitute.org/authors/timothy-c-may</div>
                                            </div>
                                        </a>
                                        <a href="https://en.wikipedia.org/wiki/Cypherpunk" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Cypherpunk - Wikipedia</div>
                                                <div class="resource-desc">Comprehensive overview of the cypherpunk movement, its history, notable members, and lasting impact.</div>
                                                <div class="resource-url">en.wikipedia.org/wiki/Cypherpunk</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 1997 -->
                <div class="timeline-event" data-act="cypherpunks" data-detail="hashcash-detail">
                    <div class="event-card">
                        <div class="year">1997</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Hashcash Proof-of-Work</h2>
                            <button class="learn-more-btn" data-detail-target="hashcash-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            Adam Back invents Hashcash, a proof-of-work system originally designed to combat 
                            email spam. This concept becomes the cornerstone of Bitcoin's mining mechanism 
                            and consensus algorithm.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Hashcash Email Header]</span>
                    </div>

                    <div class="detail-section" id="hashcash-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">1997</div>
                                <h2 class="detail-title">The Engine Behind Bitcoin Mining</h2>
                                <p class="detail-subtitle">
                                    Adam Back's elegant solution to email spam became the computational heartbeat of Bitcoin. 
                                    Hashcash is cited in the Bitcoin whitepaper and forms the basis of proof-of-work mining.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>Proof-of-Work: Making Digital Scarcity Possible</h3>
                                    <p>
                                        The core insight was brilliant in its simplicity: make sending an email cost 
                                        something—not money, but computational effort. For a normal user sending a few 
                                        emails per day, the cost is negligible. For a spammer trying to send millions, 
                                        it becomes prohibitive.
                                    </p>
                                    <p>
                                        The mechanism works by requiring senders to find a number that, when hashed with 
                                        the email content, produces a result starting with a certain number of zeros. 
                                        Finding this number requires brute-force computation—there's no shortcut. 
                                        This creates "unforgeable costliness"—proof that real-world resources were expended.
                                    </p>
                                    <p>
                                        Satoshi took this concept and transformed it: instead of fighting spam, 
                                        proof-of-work would secure a financial network and create new digital money. 
                                        Every Bitcoin ever mined is a monument to this idea.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Inventor</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Adam Back</div>
                                            <div class="person-role">Cryptographer & Blockstream CEO</div>
                                            <p class="person-bio">
                                                British cryptographer who invented Hashcash in 1997. One of the first people 
                                                contacted by Satoshi Nakamoto. Now CEO of Blockstream, continuing to build 
                                                Bitcoin infrastructure including the Liquid Network and Bitcoin satellites.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Adam_Back" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="http://www.hashcash.org/hashcash.pdf" target="_blank" class="resource-link">
                                            <div class="resource-icon">📄</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Hashcash - A Denial of Service Counter-Measure</div>
                                                <div class="resource-desc">Adam Back's 2002 paper formalizing the Hashcash system, cited in the Bitcoin whitepaper.</div>
                                            </div>
                                        </a>
                                        <a href="http://www.hashcash.org/" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Hashcash.org - Official Site</div>
                                                <div class="resource-desc">The original Hashcash documentation and implementation details.</div>
                                            </div>
                                        </a>
                                        <a href="https://bitcoinmagazine.com/technical/genesis-files-hashcash-or-how-adam-back-designed-bitcoins-motor-block" target="_blank" class="resource-link">
                                            <div class="resource-icon">📰</div>
                                            <div class="resource-info">
                                                <div class="resource-title">The Genesis Files: Hashcash</div>
                                                <div class="resource-desc">Bitcoin Magazine's deep dive into how Hashcash designed Bitcoin's motor block.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 1998 -->
                <div class="timeline-event" data-act="cypherpunks" data-detail="bmoney-detail">
                    <div class="event-card">
                        <div class="year">1998</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">B-Money & Bit Gold</h2>
                            <button class="learn-more-btn" data-detail-target="bmoney-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            Wei Dai proposes b-money, an anonymous distributed electronic cash system. 
                            Nick Szabo conceptualizes bit gold, featuring many elements that would appear 
                            in Bitcoin a decade later.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[B-Money Proposal Screenshot]</span>
                    </div>

                    <div class="detail-section" id="bmoney-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">1998</div>
                                <h2 class="detail-title">Bitcoin's First Drafts</h2>
                                <p class="detail-subtitle">
                                    In 1998, two visionaries independently proposed systems eerily similar to Bitcoin. 
                                    Satoshi Nakamoto explicitly acknowledged both as direct inspirations: "Bitcoin is an 
                                    implementation of Wei Dai's b-money and Nick Szabo's Bitgold proposal."
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>B-Money: The Anonymous Protocol</h3>
                                    <p>
                                        Wei Dai's b-money proposed "a scheme for a group of untraceable digital pseudonyms 
                                        to pay each other with money and to enforce contracts amongst themselves without 
                                        outside help." It described proof-of-work for currency creation, a distributed 
                                        ledger maintained by all participants, and cryptographic verification of transactions.
                                    </p>
                                    <p>
                                        Remarkably, Wei Dai and Adam Back were the first two people Satoshi contacted when 
                                        developing Bitcoin. Yet Dai himself admits the connection may be coincidental: 
                                        "Satoshi...didn't even read my article before reinventing the idea himself."
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Bit Gold: Digital Scarcity</h3>
                                    <p>
                                        Nick Szabo's Bit Gold focused on creating "unforgeable costliness"—digital objects 
                                        that, like gold, required real resources to create and couldn't be counterfeited. 
                                        His system used proof-of-work, cryptographic chains of ownership, and Byzantine 
                                        fault-tolerant consensus.
                                    </p>
                                    <p>
                                        The similarities to Bitcoin are striking: chains of proof-of-work hashes, a public 
                                        registry of ownership, and even the name itself. Bit Gold was never implemented, 
                                        but its architecture reads like Bitcoin's rough draft.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Visionaries</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Wei Dai</div>
                                            <div class="person-role">Cryptographer & B-Money Creator</div>
                                            <p class="person-bio">
                                                Intensely private computer engineer who created the Crypto++ library 
                                                and proposed b-money. The smallest unit of Ethereum is named "wei" in his honor.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Wei_Dai" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                        <div class="person-card">
                                            <div class="person-name">Nick Szabo</div>
                                            <div class="person-role">Cryptographer & Smart Contracts Pioneer</div>
                                            <p class="person-bio">
                                                Computer scientist who invented the concept of smart contracts in 1994 
                                                and proposed Bit Gold in 1998. His essay "Shelling Out" on the origins of 
                                                money remains influential.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Nick_Szabo" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="http://www.weidai.com/bmoney.txt" target="_blank" class="resource-link">
                                            <div class="resource-icon">📄</div>
                                            <div class="resource-info">
                                                <div class="resource-title">B-Money (Original Proposal)</div>
                                                <div class="resource-desc">Wei Dai's original 1998 proposal for anonymous, distributed electronic cash.</div>
                                            </div>
                                        </a>
                                        <a href="https://nakamotoinstitute.org/bit-gold/" target="_blank" class="resource-link">
                                            <div class="resource-icon">📜</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Bit Gold - Satoshi Nakamoto Institute</div>
                                                <div class="resource-desc">Nick Szabo's 2005 description of his Bit Gold concept.</div>
                                            </div>
                                        </a>
                                        <a href="https://nakamotoinstitute.org/shelling-out/" target="_blank" class="resource-link">
                                            <div class="resource-icon">📚</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Shelling Out: The Origins of Money</div>
                                                <div class="resource-desc">Szabo's influential essay on why humans evolved to use money.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ACT III: ALMOST THERE -->
                <div class="chapter-card" data-chapter="attempts">
                    <div class="chapter-number">ACT III</div>
                    <h2 class="chapter-title">Almost There</h2>
                    <p class="chapter-subtitle">Failed experiments and valuable lessons learned</p>
                </div>

                <!-- 2004 -->
                <div class="timeline-event" data-act="attempts" data-detail="rpow-detail">
                    <div class="event-card">
                        <div class="year">2004</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Reusable Proofs of Work</h2>
                            <button class="learn-more-btn" data-detail-target="rpow-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            Hal Finney creates RPOW (Reusable Proofs of Work), implementing a prototype 
                            for a digital currency backed by computational work. A crucial stepping stone 
                            toward Bitcoin's design, but still centralized.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[RPOW System Diagram]</span>
                    </div>

                    <div class="detail-section" id="rpow-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">2004</div>
                                <h2 class="detail-title">The Last Step Before Bitcoin</h2>
                                <p class="detail-subtitle">
                                    On August 15, 2004, legendary cypherpunk Hal Finney announced RPOW—the first 
                                    working implementation of reusable proof-of-work tokens. Four years later, 
                                    he would become Bitcoin's first adopter.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>Making Proof-of-Work Transferable</h3>
                                    <p>
                                        The problem with raw proof-of-work is that it can only be used once. 
                                        Finney's breakthrough was making these proofs reusable—transferable from 
                                        person to person like digital coins. When you spent an RPOW token, you 
                                        exchanged it at a server for a fresh one, which you could then pass on.
                                    </p>
                                    <p>
                                        To prevent the server operator (Finney himself) from cheating, RPOW used 
                                        IBM's secure cryptographic hardware—computers that could cryptographically 
                                        prove what software they were running. Users could verify the server was 
                                        honest without trusting Finney personally.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Why It Matters</h3>
                                    <p>
                                        RPOW was the first working digital cash system based on proof-of-work. 
                                        Unlike b-money and Bit Gold which remained theoretical, RPOW was real software 
                                        you could download and use. It demonstrated that the concept could work.
                                    </p>
                                    <p>
                                        The limitation? It still required a central server. Bitcoin's genius was 
                                        replacing that server with a decentralized network. But without RPOW showing 
                                        the way, Bitcoin might never have existed.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Legend</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Hal Finney</div>
                                            <div class="person-role">Cryptographer & Bitcoin Pioneer</div>
                                            <p class="person-bio">
                                                One of the most beloved figures in Bitcoin history. Created the first 
                                                anonymous remailer, worked on PGP 2.0, invented RPOW, and received the 
                                                first Bitcoin transaction from Satoshi. Passed away in 2014 from ALS.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Hal_Finney_(computer_scientist)" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://nakamotoinstitute.org/finney/rpow/" target="_blank" class="resource-link">
                                            <div class="resource-icon">🏛️</div>
                                            <div class="resource-info">
                                                <div class="resource-title">RPOW - Satoshi Nakamoto Institute</div>
                                                <div class="resource-desc">The preserved RPOW website and documentation, with Finney's original code.</div>
                                            </div>
                                        </a>
                                        <a href="https://bitcoinmagazine.com/culture/the-genesis-files-how-hal-finneys-quest-for-digital-cash-led-to-rpow-and-more" target="_blank" class="resource-link">
                                            <div class="resource-icon">📰</div>
                                            <div class="resource-info">
                                                <div class="resource-title">The Genesis Files: Hal Finney's Quest for Digital Cash</div>
                                                <div class="resource-desc">Bitcoin Magazine's comprehensive history of Finney and RPOW.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2006 -->
                <div class="timeline-event" data-act="attempts" data-detail="egold-detail">
                    <div class="event-card">
                        <div class="year">2006</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Liberty Reserve & E-Gold Crackdown</h2>
                            <button class="learn-more-btn" data-detail-target="egold-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            Centralized digital currencies like e-gold face government shutdowns. 
                            The fatal flaw becomes clear: any system with a central authority can be 
                            stopped. The need for true decentralization becomes urgent.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[E-Gold Shutdown News]</span>
                    </div>

                    <div class="detail-section" id="egold-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">2006-2013</div>
                                <h2 class="detail-title">The Lessons of Centralization</h2>
                                <p class="detail-subtitle">
                                    The crackdowns on centralized digital currencies proved a crucial point: 
                                    any system with a kill switch will eventually be switched off. This lesson 
                                    would prove essential to Bitcoin's design.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>E-Gold: Rise and Fall</h3>
                                    <p>
                                        E-gold was one of the first successful digital currencies, launched in 1996. 
                                        At its peak in 2006, it processed over $2 billion worth of transactions annually 
                                        with millions of accounts. Backed by actual gold stored in vaults, it seemed 
                                        like a stable foundation for digital money.
                                    </p>
                                    <p>
                                        But e-gold had a fatal flaw: a company controlled it. In 2007, the US Department 
                                        of Justice indicted e-gold's operators for money laundering. By 2009, the service 
                                        was effectively dead. A decade of work, erased by government action against a 
                                        single point of failure.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Pattern Repeats</h3>
                                    <p>
                                        Liberty Reserve met a similar fate in 2013, shut down in what authorities called 
                                        the largest money laundering case in history. These weren't isolated incidents—they 
                                        were inevitable consequences of centralized design.
                                    </p>
                                    <p>
                                        The cypherpunks watching these events understood: true digital cash couldn't have 
                                        an off switch. It couldn't have administrators to arrest or servers to seize. 
                                        The only solution was complete decentralization.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://en.wikipedia.org/wiki/E-gold" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">E-Gold - Wikipedia</div>
                                                <div class="resource-desc">The complete history of e-gold's rise and government-forced collapse.</div>
                                            </div>
                                        </a>
                                        <a href="https://en.wikipedia.org/wiki/Liberty_Reserve" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Liberty Reserve - Wikipedia</div>
                                                <div class="resource-desc">The story of another centralized digital currency's shutdown.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ACT IV: GENESIS -->
                <div class="chapter-card" data-chapter="genesis">
                    <div class="chapter-number">ACT IV</div>
                    <h2 class="chapter-title">⚡ GENESIS ⚡</h2>
                    <p class="chapter-subtitle">The moment everything changed</p>
                </div>

                <!-- 2008 Whitepaper -->
                <div class="timeline-event" data-act="genesis" data-detail="whitepaper-detail">
                    <div class="event-quote">"I've been working on a new electronic cash system that's fully peer-to-peer, with no trusted third party."</div>
                    <div class="event-card">
                        <div class="year">2008</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">The Bitcoin Whitepaper</h2>
                            <button class="learn-more-btn" data-detail-target="whitepaper-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            October 31st, 2008. A mysterious figure using the name Satoshi Nakamoto publishes 
                            "Bitcoin: A Peer-to-Peer Electronic Cash System" to the Cryptography mailing list. 
                            Decades of research synthesized into nine elegant pages.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Bitcoin Whitepaper First Page]</span>
                    </div>

                    <div class="detail-section" id="whitepaper-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">October 31, 2008</div>
                                <h2 class="detail-title">Nine Pages That Changed the World</h2>
                                <p class="detail-subtitle">
                                    On Halloween 2008, as global financial markets crumbled, an anonymous figure 
                                    posted a paper to the Cryptography mailing list. The subject line read simply: 
                                    "Bitcoin P2P e-cash paper." The digital revolution had begun.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Synthesis of Everything</h3>
                                    <p>
                                        The Bitcoin whitepaper wasn't a single breakthrough—it was a masterful synthesis 
                                        of decades of cryptographic research. Hashcash's proof-of-work. Haber and 
                                        Stornetta's timestamping chains. Ideas from b-money and Bit Gold. Public-key 
                                        cryptography. Merkle trees. All woven together into something entirely new.
                                    </p>
                                    <p>
                                        Satoshi's genius was seeing how these pieces fit together. The blockchain solved 
                                        the double-spending problem without a central authority. Proof-of-work created 
                                        both security and fair issuance. The difficulty adjustment made it self-regulating. 
                                        The fixed supply made it sound money.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Perfect Timing</h3>
                                    <p>
                                        The whitepaper dropped in the middle of the 2008 financial crisis—just weeks 
                                        after Lehman Brothers collapsed and governments began printing money to bail 
                                        out banks. Whether intentional or not, the timing was poetic: a new form of 
                                        money, free from central control, born as trust in traditional finance crumbled.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Mystery</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Satoshi Nakamoto</div>
                                            <div class="person-role">Anonymous Creator of Bitcoin</div>
                                            <p class="person-bio">
                                                The pseudonymous inventor(s) of Bitcoin. Communicated only via email and forums. 
                                                Disappeared in April 2011, leaving behind ~1 million unmoved BTC and the 
                                                greatest mystery in tech history.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Satoshi_Nakamoto" target="_blank" class="person-link">Read More →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Essential Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://bitcoin.org/bitcoin.pdf" target="_blank" class="resource-link">
                                            <div class="resource-icon">📄</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Bitcoin: A Peer-to-Peer Electronic Cash System</div>
                                                <div class="resource-desc">The original whitepaper. Nine pages. Every Bitcoiner should read it.</div>
                                            </div>
                                        </a>
                                        <a href="https://satoshi.nakamotoinstitute.org/" target="_blank" class="resource-link">
                                            <div class="resource-icon">📧</div>
                                            <div class="resource-info">
                                                <div class="resource-title">The Complete Satoshi</div>
                                                <div class="resource-desc">Every known email, post, and code commit from Satoshi Nakamoto, preserved.</div>
                                            </div>
                                        </a>
                                        <a href="https://nakamotoinstitute.org/" target="_blank" class="resource-link">
                                            <div class="resource-icon">🏛️</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Satoshi Nakamoto Institute</div>
                                                <div class="resource-desc">The definitive archive of Bitcoin's history and intellectual foundations.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2009 Genesis Block - WITH LIGHTNING EFFECT -->
                <div class="timeline-event genesis-moment" data-act="genesis" data-detail="genesis-detail">
                    <div class="event-quote">"The Times 03/Jan/2009 Chancellor on brink of second bailout for banks."</div>
                    <div class="event-card">
                        <div class="year">2009</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">The Genesis Block</h2>
                            <button class="learn-more-btn" data-detail-target="genesis-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            January 3rd, 2009. Satoshi mines the first Bitcoin block, embedding the message: 
                            "The Times 03/Jan/2009 Chancellor on brink of second bailout for banks." 
                            <strong>The Bitcoin network comes alive.</strong>
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Genesis Block Visualization]</span>
                    </div>

                    <div class="detail-section" id="genesis-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">January 3, 2009 - 18:15:05 UTC</div>
                                <h2 class="detail-title">Block 0: The Beginning of Everything</h2>
                                <p class="detail-subtitle">
                                    The Genesis Block—Block 0—is the foundation upon which all of Bitcoin is built. 
                                    Every Bitcoin transaction, every block mined since, traces back to this moment. 
                                    It is Bitcoin's Big Bang.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Hidden Message</h3>
                                    <p>
                                        Satoshi embedded a headline from The Times of London in the Genesis Block's 
                                        coinbase transaction: "The Times 03/Jan/2009 Chancellor on brink of second 
                                        bailout for banks." This served two purposes: it proved the block wasn't 
                                        mined before that date, and it made a statement.
                                    </p>
                                    <p>
                                        The message was a declaration of purpose: Bitcoin was created as an alternative 
                                        to a financial system that required endless bailouts and trusted third parties. 
                                        It was money that couldn't be inflated, controlled, or confiscated.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Unique Properties</h3>
                                    <p>
                                        The Genesis Block has several unique characteristics. Its 50 BTC reward can 
                                        never be spent (due to a quirk in the code that may have been intentional). 
                                        It's hardcoded into Bitcoin software rather than derived from a previous block. 
                                        And the six days between it and Block 1 remain unexplained.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Genesis Block Hash</h3>
                                    <p style="font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; color: var(--blue-primary); word-break: break-all; background: rgba(0, 212, 255, 0.05); padding: 1rem; border-radius: 6px;">
                                        000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Explore</h3>
                                    <div class="resources-list">
                                        <a href="https://blockstream.info/block/000000000019d6689c085ae165831e934ff763ae46a2a6c172b3f1b60a8ce26f" target="_blank" class="resource-link">
                                            <div class="resource-icon">🔍</div>
                                            <div class="resource-info">
                                                <div class="resource-title">View the Genesis Block</div>
                                                <div class="resource-desc">See Block 0 on Blockstream's block explorer.</div>
                                            </div>
                                        </a>
                                        <a href="https://en.bitcoin.it/wiki/Genesis_block" target="_blank" class="resource-link">
                                            <div class="resource-icon">📚</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Genesis Block - Bitcoin Wiki</div>
                                                <div class="resource-desc">Technical details and history of the first block.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2009 Hal Finney -->
                <div class="timeline-event" data-act="genesis" data-detail="running-bitcoin-detail">
                    <div class="event-quote">"Running bitcoin"</div>
                    <div class="event-card">
                        <div class="year">2009</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Hal Finney: "Running Bitcoin"</h2>
                            <button class="learn-more-btn" data-detail-target="running-bitcoin-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            January 10th, 2009. Hal Finney tweets "Running bitcoin" and becomes the first 
                            person besides Satoshi to run the Bitcoin software. Days later, he receives 
                            the first Bitcoin transaction—10 BTC from Satoshi himself.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Hal Finney Tweet Screenshot]</span>
                    </div>

                    <div class="detail-section" id="running-bitcoin-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">January 10-12, 2009</div>
                                <h2 class="detail-title">The First Bitcoiner</h2>
                                <p class="detail-subtitle">
                                    While others ignored or dismissed Satoshi's announcement, Hal Finney saw 
                                    something special. His two-word tweet—"Running bitcoin"—marked the beginning 
                                    of Bitcoin's adoption and would become the most iconic message in crypto history.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The First Transaction</h3>
                                    <p>
                                        On January 12, 2009, Satoshi sent 10 BTC to Hal Finney in block 170—the 
                                        first Bitcoin transaction between two people. Finney later recalled: "I 
                                        was the recipient of the first bitcoin transaction, when Satoshi sent ten 
                                        coins to me as a test."
                                    </p>
                                    <p>
                                        Finney immediately began finding and reporting bugs, helping Satoshi refine 
                                        the software. Their correspondence shows deep technical discussions and 
                                        mutual respect. Without Finney's early support, Bitcoin's crucial first 
                                        days might have been very different.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>A Life in Cryptography</h3>
                                    <p>
                                        Finney's support of Bitcoin wasn't surprising to anyone who knew him. 
                                        He had spent decades working on the very problems Bitcoin solved: he 
                                        created the first anonymous remailer, worked on PGP 2.0, invented RPOW, 
                                        and was an active cypherpunk since the movement's founding.
                                    </p>
                                    <p>
                                        Tragically, Finney was diagnosed with ALS in 2009 and passed away in 2014. 
                                        His final years were spent advocating for Bitcoin and fighting his illness 
                                        with characteristic optimism. He was cryopreserved by the Alcor Life Extension 
                                        Foundation—maintaining hope, in his own words, of "being awakened in the future."
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://twitter.com/halfin/status/1110302988" target="_blank" class="resource-link">
                                            <div class="resource-icon">🐦</div>
                                            <div class="resource-info">
                                                <div class="resource-title">"Running bitcoin" - Original Tweet</div>
                                                <div class="resource-desc">The historic two-word message from January 10, 2009.</div>
                                            </div>
                                        </a>
                                        <a href="https://bitcointalk.org/index.php?topic=155054.0" target="_blank" class="resource-link">
                                            <div class="resource-icon">📝</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Hal Finney's Final Forum Post</div>
                                                <div class="resource-desc">His moving 2013 post about his journey with Bitcoin and ALS.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- ACT V: THE ECOSYSTEM EMERGES -->
                <div class="chapter-card" data-chapter="ecosystem">
                    <div class="chapter-number">ACT V</div>
                    <h2 class="chapter-title">The Ecosystem Emerges</h2>
                    <p class="chapter-subtitle">From cypherpunk experiment to global phenomenon</p>
                </div>

                <!-- 2010 Pizza Day -->
                <div class="timeline-event" data-act="ecosystem" data-detail="pizza-detail">
                    <div class="event-quote">"Today those 10,000 BTC would be worth hundreds of millions"</div>
                    <div class="event-card">
                        <div class="year">2010</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Bitcoin Pizza Day</h2>
                            <button class="learn-more-btn" data-detail-target="pizza-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            May 22nd, 2010. Laszlo Hanyecz makes the first real-world Bitcoin transaction, 
                            paying 10,000 BTC for two pizzas. The moment Bitcoin transformed from 
                            an experiment into a medium of exchange.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Pizza Transaction Screenshot]</span>
                    </div>

                    <div class="detail-section" id="pizza-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">May 22, 2010</div>
                                <h2 class="detail-title">The Most Expensive Pizzas in History</h2>
                                <p class="detail-subtitle">
                                    A Florida programmer spent 10,000 BTC on two Papa John's pizzas—worth about 
                                    $41 at the time. It was the first commercial Bitcoin transaction, proving that 
                                    BTC could function as real money. Every May 22nd, Bitcoiners celebrate this 
                                    moment as "Bitcoin Pizza Day."
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Transaction</h3>
                                    <p>
                                        On May 18, 2010, Laszlo Hanyecz posted on the BitcoinTalk forum: "I'll pay 
                                        10,000 bitcoins for a couple of pizzas...like maybe 2 large ones so I have 
                                        some left over for the next day." Four days later, someone took him up on 
                                        the offer, ordering two pizzas for about $25 and receiving 10,000 BTC.
                                    </p>
                                    <p>
                                        At Bitcoin's all-time high, those pizzas would have been worth over $600 
                                        million. But that misses the point: without transactions like this, Bitcoin 
                                        might never have become valuable at all. Hanyecz knew what he was doing.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Why It Matters</h3>
                                    <p>
                                        Before this transaction, Bitcoin had no real exchange rate. You could mine 
                                        it, but you couldn't buy anything with it. Hanyecz's pizza purchase established 
                                        that Bitcoin could be exchanged for goods—the fundamental requirement for money.
                                    </p>
                                    <p>
                                        Hanyecz later said: "It wasn't like Bitcoins had any value back then, so the 
                                        idea of trading them for a pizza was incredibly cool." He continued spending 
                                        BTC on pizzas, spending perhaps 100,000 BTC total. He has no regrets.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Pioneer</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Laszlo Hanyecz</div>
                                            <div class="person-role">Early Bitcoin Developer</div>
                                            <p class="person-bio">
                                                Beyond the pizzas, Hanyecz was an early Bitcoin developer who created 
                                                the first GPU mining software, dramatically increasing mining efficiency. 
                                                In 2018, he made history again by buying pizza with Bitcoin over the 
                                                Lightning Network.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Laszlo_Hanyecz" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://bitcointalk.org/index.php?topic=137.0" target="_blank" class="resource-link">
                                            <div class="resource-icon">💬</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Original Forum Post</div>
                                                <div class="resource-desc">Laszlo's "Pizza for bitcoins?" thread from May 18, 2010.</div>
                                            </div>
                                        </a>
                                        <a href="https://en.bitcoin.it/wiki/Laszlo_Hanyecz" target="_blank" class="resource-link">
                                            <div class="resource-icon">📚</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Laszlo Hanyecz - Bitcoin Wiki</div>
                                                <div class="resource-desc">Full history of the man behind Bitcoin Pizza Day.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <!-- 2010 Mt. Gox -->
                <div class="timeline-event" data-act="ecosystem" data-detail="mtgox-open-detail">
                    
                    <div class="event-card">
                        <div class="year">2010</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Mt. Gox Opens for Trading</h2>
                            <button class="learn-more-btn" data-detail-target="mtgox-open-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            The first major Bitcoin exchange launches in July, initially handling a small 
                            fraction of Bitcoin's volume. Mt. Gox would go on to handle over 70% of all 
                            Bitcoin transactions at its peak.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Mt. Gox Interface Screenshot]</span>
                    </div>

                    <div class="detail-section" id="mtgox-open-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">July 2010</div>
                                <h2 class="detail-title">From Magic Cards to Magic Internet Money</h2>
                                <p class="detail-subtitle">
                                    Mt. Gox began as a trading card exchange before becoming the dominant force in early 
                                    Bitcoin trading. Its rise and eventual fall would shape the entire cryptocurrency industry.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>An Unlikely Origin</h3>
                                    <p>
                                        The name "Mt. Gox" stands for "Magic: The Gathering Online eXchange"—because that's 
                                        exactly what it started as. In 2007, programmer Jed McCaleb purchased the mtgox.com 
                                        domain to create a trading platform for Magic: The Gathering cards. The project 
                                        lasted only a few months before McCaleb abandoned it.
                                    </p>
                                    <p>
                                        In July 2010, after reading about Bitcoin on Slashdot, McCaleb saw an opportunity. 
                                        He repurposed his dormant domain and, within days, launched the first major Bitcoin 
                                        exchange. On its first day of operations, just 20 bitcoins were traded—each selling 
                                        for 5 cents.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Early Dominance</h3>
                                    <p>
                                        Being first to market proved decisive. Mt. Gox quickly became the go-to platform 
                                        for buying and selling Bitcoin. Before Mt. Gox, Bitcoin trading happened through 
                                        direct person-to-person exchanges on forums and via email—a slow, trust-dependent 
                                        process. Mt. Gox changed everything by providing a centralized marketplace.
                                    </p>
                                    <p>
                                        By February 2011, Bitcoin achieved a milestone on Mt. Gox: parity with the US dollar. 
                                        This media moment drove waves of new users to the platform, cementing its dominance.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Change of Hands</h3>
                                    <p>
                                        Running a financial exchange proved more demanding than McCaleb anticipated. Security 
                                        incidents and the stress of handling real money led him to sell Mt. Gox in March 2011 
                                        to Mark Karpelès, a French developer living in Japan. McCaleb received a 12% stake 
                                        and a cut of revenues for six months.
                                    </p>
                                    <p>
                                        Under Karpelès, Mt. Gox expanded rapidly. By 2013, it handled over 70% of all 
                                        Bitcoin transactions worldwide—processing more than 100,000 BTC daily. But the 
                                        seeds of its downfall were already planted in the form of security vulnerabilities 
                                        and mismanagement that would emerge years later.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Key Figures</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Jed McCaleb</div>
                                            <div class="person-role">Mt. Gox Founder</div>
                                            <p class="person-bio">
                                                American programmer who created Mt. Gox and sold it before its collapse. 
                                                Later co-founded Ripple and Stellar, becoming one of crypto's most 
                                                influential serial entrepreneurs.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Jed_McCaleb" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                        <div class="person-card">
                                            <div class="person-name">Mark Karpelès</div>
                                            <div class="person-role">Mt. Gox CEO (2011-2014)</div>
                                            <p class="person-bio">
                                                French developer who purchased Mt. Gox and oversaw its rise to dominance 
                                                and catastrophic collapse. Later faced criminal charges in Japan related 
                                                to the exchange's failure.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Mark_Karpel%C3%A8s" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://en.wikipedia.org/wiki/Mt._Gox" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Mt. Gox — Wikipedia</div>
                                                <div class="resource-desc">Complete history from founding to bankruptcy and aftermath.</div>
                                            </div>
                                        </a>
                                        <a href="https://www.coindesk.com/consensus-magazine/2023/05/04/the-legacy-of-mt-gox-why-bitcoins-greatest-hack-still-matters" target="_blank" class="resource-link">
                                            <div class="resource-icon">📰</div>
                                            <div class="resource-info">
                                                <div class="resource-title">The Legacy of Mt. Gox — CoinDesk</div>
                                                <div class="resource-desc">Why Bitcoin's greatest hack still matters a decade later.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2011 Silk Road -->
                <div class="timeline-event" data-act="ecosystem" data-detail="silkroad-detail">
                    
                    <div class="event-card">
                        <div class="year">2011</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Silk Road Launches</h2>
                            <button class="learn-more-btn" data-detail-target="silkroad-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            February 2011. The darknet marketplace opens, becoming the first major Bitcoin 
                            economy. Controversial and ultimately shut down by the FBI, it proved Bitcoin 
                            could function as digital cash at scale.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Silk Road Screenshot]</span>
                    </div>

                    <div class="detail-section" id="silkroad-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">February 2011</div>
                                <h2 class="detail-title">The Darknet's First Marketplace</h2>
                                <p class="detail-subtitle">
                                    Silk Road became Bitcoin's first real-world economy at scale—a controversial 
                                    proof of concept that demonstrated cryptocurrency could enable commerce beyond 
                                    the reach of traditional financial systems.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Vision</h3>
                                    <p>
                                        Ross Ulbricht, a 26-year-old with degrees in physics and engineering, created 
                                        Silk Road as a libertarian experiment. Inspired by Austrian economics and the 
                                        writings of Ludwig von Mises, he envisioned a marketplace free from government 
                                        control—where voluntary exchange could occur without coercion.
                                    </p>
                                    <p>
                                        The site operated on the Tor network, which anonymized users' locations. All 
                                        transactions used Bitcoin exclusively. This combination created something 
                                        unprecedented: a functioning anonymous marketplace accessible to anyone with 
                                        an internet connection.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>How It Worked</h3>
                                    <p>
                                        Silk Road used an escrow system: buyers sent Bitcoin to Silk Road, which held 
                                        the funds until the buyer confirmed receipt of goods. Sellers built reputations 
                                        through reviews. A commission of 8-15% went to the site. Operating under the 
                                        pseudonym "Dread Pirate Roberts" (from the film The Princess Bride), Ulbricht 
                                        maintained the platform and enforced its rules.
                                    </p>
                                    <p>
                                        While drugs dominated the marketplace, other goods and services were available. 
                                        Notably, Ulbricht prohibited items "intended to harm or defraud"—weapons, stolen 
                                        goods, and child exploitation material were banned.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Scale and Impact</h3>
                                    <p>
                                        Between February 2011 and July 2013, Silk Road facilitated approximately 
                                        1.2 million transactions totaling 9.5 million BTC in sales. At its peak, 
                                        nearly 13,000 drug listings were active. The site served over 100,000 buyers 
                                        worldwide, generating roughly $13 million in commissions for its operator.
                                    </p>
                                    <p>
                                        A June 2011 Gawker article brought Silk Road to mainstream attention, causing 
                                        a surge in both users and law enforcement interest. Bitcoin's price rose 
                                        significantly in the following months—demonstrating real demand for the 
                                        cryptocurrency's unique properties.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Founder</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Ross Ulbricht</div>
                                            <div class="person-role">"Dread Pirate Roberts"</div>
                                            <p class="person-bio">
                                                Born 1984 in Texas. Physics degree from UT Dallas, engineering master's 
                                                from Penn State. Created Silk Road as a libertarian experiment. Arrested 
                                                October 2013 at San Francisco Public Library. Sentenced to life without 
                                                parole in 2015. Pardoned by President Trump in January 2025.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Ross_Ulbricht" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://en.wikipedia.org/wiki/Silk_Road_(marketplace)" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Silk Road — Wikipedia</div>
                                                <div class="resource-desc">Complete history of the marketplace and its aftermath.</div>
                                            </div>
                                        </a>
                                        <a href="https://www.fbi.gov/history/artifacts/ross-william-ulbrichts-laptop" target="_blank" class="resource-link">
                                            <div class="resource-icon">🏛️</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Ross Ulbricht's Laptop — FBI Artifact</div>
                                                <div class="resource-desc">The FBI's account of the investigation and arrest.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2011 Satoshi Disappears -->
                <div class="timeline-event" data-act="ecosystem" data-detail="satoshi-disappear-detail">
                    <div class="event-quote">"Satoshi's ~1 million BTC remain untouched to this day"</div>
                    <div class="event-card">
                        <div class="year">2011</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Satoshi's Disappearance</h2>
                            <button class="learn-more-btn" data-detail-target="satoshi-disappear-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            April 2011. Satoshi Nakamoto sends his final emails to Bitcoin developers, 
                            stating "I've moved on to other things." The creator vanishes, leaving the 
                            network to evolve on its own—truly decentralized.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Satoshi's Last Message]</span>
                    </div>

                    <div class="detail-section" id="satoshi-disappear-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">April 23-26, 2011</div>
                                <h2 class="detail-title">The Creator Vanishes</h2>
                                <p class="detail-subtitle">
                                    In a series of final emails, Satoshi Nakamoto handed over control of Bitcoin to 
                                    the developer community and disappeared—completing the creation of a truly 
                                    decentralized system with no single point of authority.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Gradual Withdrawal</h3>
                                    <p>
                                        Satoshi's retreat was gradual, not sudden. His last public post on the 
                                        BitcoinTalk forum came on December 12, 2010, discussing denial-of-service 
                                        attack mitigation. After that, he communicated only via private emails with 
                                        a handful of developers—primarily Gavin Andresen and Mike Hearn.
                                    </p>
                                    <p>
                                        In late 2010, Satoshi had already begun transitioning control. He gave Gavin 
                                        Andresen access to the project's SourceForge page and the alert key—a mechanism 
                                        that could broadcast emergency messages to the entire network.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Final Emails</h3>
                                    <p>
                                        On April 23, 2011, Satoshi emailed Mike Hearn: "I've moved on to other things. 
                                        It's in good hands with Gavin and everyone." Three days later, on April 26, 
                                        he sent his final known email to Gavin Andresen: "I wish you wouldn't keep 
                                        talking about me as a mysterious shadowy figure, the press just turns that 
                                        into a pirate currency angle."
                                    </p>
                                    <p>
                                        In that same email, Andresen mentioned he'd been invited to speak at the 
                                        CIA about Bitcoin. Some have speculated this triggered Satoshi's final 
                                        withdrawal, though no evidence supports this theory.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Untouched Fortune</h3>
                                    <p>
                                        Analysis suggests Satoshi mined approximately 1 million BTC in Bitcoin's 
                                        earliest days—coins that have never moved. At various price peaks, this 
                                        stash has been worth over $60 billion. The coins remain untouched, serving 
                                        as perhaps the strongest evidence that Satoshi genuinely believed in Bitcoin 
                                        as a gift to the world, not a get-rich scheme.
                                    </p>
                                    <p>
                                        Only once did someone claiming to be Satoshi surface: on March 7, 2014, 
                                        after Newsweek misidentified a man named Dorian Nakamoto as the creator. 
                                        A message appeared on the P2P Foundation forum stating simply: "I am not 
                                        Dorian Nakamoto." No cryptographic proof accompanied it.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Succession</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Gavin Andresen</div>
                                            <div class="person-role">Bitcoin's Second Leader</div>
                                            <p class="person-bio">
                                                Software developer who became Bitcoin's lead maintainer after Satoshi's 
                                                departure. Created the Bitcoin Faucet to distribute free BTC. Founded 
                                                the Bitcoin Foundation in 2012 to support development.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Gavin_Andresen" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                        <div class="person-card">
                                            <div class="person-name">Mike Hearn</div>
                                            <div class="person-role">Early Developer</div>
                                            <p class="person-bio">
                                                Google engineer who contributed to Bitcoin in its early years. Received 
                                                some of Satoshi's last known communications. Left the Bitcoin project 
                                                in 2016 after disputes over scaling.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Mike_Hearn" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Key Dates</h3>
                                    <div class="resources-list">
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">December 12, 2010</div>
                                                <div class="resource-desc">Satoshi's last public post on BitcoinTalk forum</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">April 23, 2011</div>
                                                <div class="resource-desc">Final email to Mike Hearn: "I've moved on to other things"</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">April 26, 2011</div>
                                                <div class="resource-desc">Last known email to Gavin Andresen</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">March 7, 2014</div>
                                                <div class="resource-desc">Brief message denying being Dorian Nakamoto</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="http://gavinandresen.ninja/eleven-years-ago-today" target="_blank" class="resource-link">
                                            <div class="resource-icon">📧</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Gavin Andresen's Blog — Satoshi's Last Email</div>
                                                <div class="resource-desc">Andresen's firsthand account of his final exchange with Satoshi.</div>
                                            </div>
                                        </a>
                                        <a href="https://satoshi.nakamotoinstitute.org/" target="_blank" class="resource-link">
                                            <div class="resource-icon">📚</div>
                                            <div class="resource-info">
                                                <div class="resource-title">The Complete Satoshi</div>
                                                <div class="resource-desc">Every known email and post from Bitcoin's creator.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2012 First Halving -->
                <div class="timeline-event" data-act="ecosystem" data-detail="halving-detail">
                    
                    <div class="event-card">
                        <div class="year">2012</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">First Halving Event</h2>
                            <button class="learn-more-btn" data-detail-target="halving-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            November 28th, 2012. Bitcoin's mining reward drops from 50 BTC to 25 BTC per block. 
                            The first halving proves Satoshi's economic model works exactly as designed, 
                            ensuring Bitcoin's scarcity over time.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Halving Block Visualization]</span>
                    </div>

                    <div class="detail-section" id="halving-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">November 28, 2012 — Block 210,000</div>
                                <h2 class="detail-title">The First Test of Digital Scarcity</h2>
                                <p class="detail-subtitle">
                                    When block 210,000 was mined, Bitcoin's inflation rate dropped by half—exactly as 
                                    Satoshi had programmed years earlier. The halving proved the protocol's economic 
                                    model would work as designed.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>How the Halving Works</h3>
                                    <p>
                                        Satoshi designed Bitcoin with a fixed supply of 21 million coins, released 
                                        gradually through mining. Initially, miners received 50 BTC for each block 
                                        they successfully mined. Every 210,000 blocks—approximately every four years—this 
                                        reward is cut in half. The halvings will continue until around 2140, when the 
                                        last fraction of a bitcoin is mined.
                                    </p>
                                    <p>
                                        This mechanism mimics the extraction of precious resources like gold, where 
                                        finding new supplies becomes increasingly difficult over time. Unlike gold, 
                                        however, Bitcoin's scarcity is mathematically certain and completely predictable.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The First Halving</h3>
                                    <p>
                                        At precisely block 210,000, the reward dropped from 50 BTC to 25 BTC per block. 
                                        The mining pool Slush Pool found this historic block using a Radeon HD 5800 
                                        graphics card. At that moment, exactly 10,500,000 BTC had been mined—50% of 
                                        the total supply.
                                    </p>
                                    <p>
                                        On halving day, Bitcoin traded at approximately $12.20. The market didn't 
                                        react with immediate euphoria. But in the months that followed, Bitcoin 
                                        embarked on its first major bull run, surging to over $1,000 by the end 
                                        of 2013—a roughly 80x increase.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Economic Significance</h3>
                                    <p>
                                        The halving was more than a technical milestone—it was the first real-world 
                                        test of Satoshi's game theory. Some worried miners would shut down en masse 
                                        when their rewards were cut in half, leaving the network vulnerable. Instead, 
                                        the opposite occurred: the network grew stronger as Bitcoin's price appreciated 
                                        to compensate for the reduced block reward.
                                    </p>
                                    <p>
                                        This established a pattern that would repeat with each subsequent halving: 
                                        reduced supply issuance, followed by increased scarcity perception, followed 
                                        by price appreciation—creating what many call Bitcoin's "four-year cycle."
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>All Bitcoin Halvings</h3>
                                    <div class="resources-list">
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">November 28, 2012 — Block 210,000</div>
                                                <div class="resource-desc">First halving: 50 BTC → 25 BTC. Price: ~$12</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">July 9, 2016 — Block 420,000</div>
                                                <div class="resource-desc">Second halving: 25 BTC → 12.5 BTC. Price: ~$650</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">May 11, 2020 — Block 630,000</div>
                                                <div class="resource-desc">Third halving: 12.5 BTC → 6.25 BTC. Price: ~$8,800</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">April 20, 2024 — Block 840,000</div>
                                                <div class="resource-desc">Fourth halving: 6.25 BTC → 3.125 BTC</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://en.bitcoin.it/wiki/Halving_day_2012" target="_blank" class="resource-link">
                                            <div class="resource-icon">📚</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Halving Day 2012 — Bitcoin Wiki</div>
                                                <div class="resource-desc">Technical details and community reaction to the first halving.</div>
                                            </div>
                                        </a>
                                        <a href="https://bitcoinblockhalf.com/" target="_blank" class="resource-link">
                                            <div class="resource-icon">⏰</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Bitcoin Block Reward Halving Countdown</div>
                                                <div class="resource-desc">Track upcoming halvings and historical data.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2013 Cyprus Crisis -->
                <div class="timeline-event" data-act="ecosystem" data-detail="cyprus-detail">
                    
                    <div class="event-card">
                        <div class="year">2013</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Cyprus Banking Crisis</h2>
                            <button class="learn-more-btn" data-detail-target="cyprus-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            March 2013. Cyprus announces plans to seize deposits from bank accounts. 
                            Bitcoin surges as people seek financial sovereignty. The first time Bitcoin 
                            serves as a safe haven during monetary crisis. Price reaches $266.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Cyprus Crisis Headlines]</span>
                    </div>

                    <div class="detail-section" id="cyprus-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">March 16-25, 2013</div>
                                <h2 class="detail-title">Bitcoin's First Safe Haven Moment</h2>
                                <p class="detail-subtitle">
                                    When the European Union forced Cyprus to raid bank deposits to fund a bailout, 
                                    the world got its first demonstration of why Bitcoin matters—and the price 
                                    surged 178% in a single month.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Crisis</h3>
                                    <p>
                                        Cyprus's banking system had become dangerously overleveraged, holding billions 
                                        in Greek debt that collapsed during Europe's sovereign debt crisis. When the 
                                        country sought a €10 billion bailout from the EU and IMF, creditors demanded 
                                        an unprecedented condition: Cyprus must impose a "haircut" on bank deposits.
                                    </p>
                                    <p>
                                        The initial proposal, announced on Saturday, March 16, 2013, would have taxed 
                                        all bank deposits—6.75% on amounts under €100,000 and 9.9% on larger amounts. 
                                        ATMs were emptied within hours. Banks remained closed for nearly two weeks 
                                        as panic spread.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Bitcoin's Response</h3>
                                    <p>
                                        Bitcoin's price had been trading around $47 when Cyprus announced the deposit 
                                        levy. Within days, it nearly doubled to $88. By April, it reached $266—a 
                                        gain of over 450% from pre-crisis levels. Trading volumes on Mt. Gox surged 
                                        as Europeans sought alternatives to their suddenly-vulnerable banking system.
                                    </p>
                                    <p>
                                        Downloads of Bitcoin apps spiked in Spain and other countries with fragile 
                                        banking systems. For the first time, Bitcoin demonstrated its utility as a 
                                        hedge against monetary system failure—a digital escape hatch when traditional 
                                        finance betrayed its promises.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Aftermath</h3>
                                    <p>
                                        The final bailout terms spared deposits under €100,000 but seized up to 47.5% 
                                        of uninsured deposits at the Bank of Cyprus. The country's second-largest 
                                        bank, Laiki, was closed entirely. Capital controls remained in place for years.
                                    </p>
                                    <p>
                                        The crisis proved that in modern fractional reserve banking, deposits are 
                                        not truly safe—governments can and will seize them when convenient. This 
                                        reality, which Bitcoiners had warned about since the Genesis Block's 
                                        embedded message about bank bailouts, was now impossible to ignore.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Legacy</h3>
                                    <p>
                                        Cyprus became a reference point for Bitcoin advocates—proof that the 
                                        traditional banking system could fail in ways Bitcoin was designed to prevent. 
                                        The phrase "not your keys, not your coins" gained resonance: if you don't 
                                        hold your own Bitcoin, you're trusting someone else not to confiscate it.
                                    </p>
                                    <p>
                                        Tyler Winklevoss, who would become a Bitcoin billionaire, later recalled 
                                        that Cyprus was a pivotal moment in validating Bitcoin's value proposition. 
                                        Similar narratives would emerge during every subsequent banking crisis.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://en.wikipedia.org/wiki/2012%E2%80%932013_Cypriot_financial_crisis" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Cypriot Financial Crisis — Wikipedia</div>
                                                <div class="resource-desc">Complete background on the banking crisis and bailout.</div>
                                            </div>
                                        </a>
                                        <a href="https://money.cnn.com/2013/03/28/investing/bitcoin-cyprus/index.html" target="_blank" class="resource-link">
                                            <div class="resource-icon">📰</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Bitcoin Prices Surge Post-Cyprus Bailout — CNN</div>
                                                <div class="resource-desc">Contemporary reporting on Bitcoin's price surge during the crisis.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2013 Silk Road Shutdown -->
                <div class="timeline-event" data-act="ecosystem" data-detail="silkroad-shutdown-detail">
                    
                    <div class="event-card">
                        <div class="year">2013</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Silk Road Shutdown</h2>
                            <button class="learn-more-btn" data-detail-target="silkroad-shutdown-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            October 2013. The FBI shuts down Silk Road and arrests its founder. 
                            Bitcoin's price drops sharply—then recovers. The network proves resilient 
                            even when major use cases disappear.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[FBI Silk Road Seizure]</span>
                    </div>

                    <div class="detail-section" id="silkroad-shutdown-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">October 1-2, 2013</div>
                                <h2 class="detail-title">The End of Bitcoin's First Economy</h2>
                                <p class="detail-subtitle">
                                    When the FBI seized Silk Road and arrested Ross Ulbricht, skeptics predicted 
                                    Bitcoin would collapse. Instead, the network proved its resilience—demonstrating 
                                    that Bitcoin had evolved beyond any single use case.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Arrest</h3>
                                    <p>
                                        On October 1, 2013, FBI agents approached Ross Ulbricht as he worked on his 
                                        laptop at the Glen Park Library in San Francisco. Two agents staged a fake 
                                        fight as a distraction while a third grabbed his laptop—still logged into 
                                        the Silk Road admin panel—before Ulbricht could encrypt it.
                                    </p>
                                    <p>
                                        The investigation had taken years. IRS agent Gary Alford made the crucial 
                                        connection: a user named "altoid" had promoted Silk Road in early 2011 and 
                                        later posted a job listing using an email containing Ulbricht's real name. 
                                        From there, investigators pieced together the trail.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Seizure</h3>
                                    <p>
                                        The FBI seized approximately 144,000 BTC from Silk Road—worth about $28.5 
                                        million at the time. In 2014, the U.S. Marshals auctioned the Bitcoin in 
                                        several lots. Venture capitalist Tim Draper famously won nearly 30,000 BTC, 
                                        which would later be worth billions.
                                    </p>
                                    <p>
                                        An additional 69,000 BTC, stolen from Silk Road by an unknown hacker, was 
                                        traced and seized by the government in November 2020—worth over $1 billion 
                                        at the time, making it one of the largest cryptocurrency seizures ever.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Bitcoin's Resilience</h3>
                                    <p>
                                        Many expected Bitcoin to crash when Silk Road—its largest known use case—was 
                                        shut down. Bitcoin did drop from $140 to $110 immediately after the seizure. 
                                        But within weeks, it recovered. By November, it broke $1,000 for the first time.
                                    </p>
                                    <p>
                                        The recovery proved a crucial point: Bitcoin's value wasn't dependent on 
                                        illicit commerce. The network had grown far beyond any single application. 
                                        Silk Road's demise, paradoxically, legitimized Bitcoin by demonstrating it 
                                        could survive—and thrive—without its most controversial use case.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Trial and Sentence</h3>
                                    <p>
                                        Ross Ulbricht's trial began in January 2015. He admitted to creating Silk 
                                        Road but claimed he had transferred control to others. The jury didn't buy 
                                        it. In May 2015, Judge Katherine Forrest sentenced him to life in prison 
                                        without the possibility of parole—a sentence many considered extraordinarily 
                                        harsh for a first-time, non-violent offender.
                                    </p>
                                    <p>
                                        The case sparked ongoing debate about proportionality in sentencing and the 
                                        war on drugs. In January 2025, President Trump pardoned Ulbricht, ending his 
                                        imprisonment after nearly 12 years.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://www.fbi.gov/contact-us/field-offices/newyork/news/press-releases/ross-ulbricht-the-creator-and-owner-of-the-silk-road-website-found-guilty-in-manhattan-federal-court-on-all-counts" target="_blank" class="resource-link">
                                            <div class="resource-icon">🏛️</div>
                                            <div class="resource-info">
                                                <div class="resource-title">FBI Press Release — Ulbricht Conviction</div>
                                                <div class="resource-desc">Official announcement of the guilty verdict.</div>
                                            </div>
                                        </a>
                                        <a href="https://www.cbsnews.com/news/ross-ulbricht-dread-pirate-roberts-silk-road-fbi/" target="_blank" class="resource-link">
                                            <div class="resource-icon">📺</div>
                                            <div class="resource-info">
                                                <div class="resource-title">CBS News — Inside the FBI's Search for Ross Ulbricht</div>
                                                <div class="resource-desc">Detailed account of the investigation and arrest.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2013 Bitcoin ATMs -->
                <div class="timeline-event" data-act="ecosystem" data-detail="btc-atm-detail">
                    
                    <div class="event-card">
                        <div class="year">2013</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Bitcoin ATMs Arrive</h2>
                            <button class="learn-more-btn" data-detail-target="btc-atm-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            October 2013. The world's first Bitcoin ATM opens in Vancouver, Canada. 
                            Bitcoin moves from purely digital to physical infrastructure. 
                            The barrier to entry drops dramatically.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[First Bitcoin ATM Photo]</span>
                    </div>

                    <div class="detail-section" id="btc-atm-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">October 29, 2013</div>
                                <h2 class="detail-title">Digital Currency Meets Physical World</h2>
                                <p class="detail-subtitle">
                                    A silver and blue kiosk in a Vancouver coffee shop became the first place 
                                    where anyone could walk in off the street and buy Bitcoin with cash—no 
                                    technical knowledge required.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The First ATM</h3>
                                    <p>
                                        On October 29, 2013, at Waves Coffee House on Howe and Smithe Street in 
                                        downtown Vancouver, the world's first Bitcoin ATM opened for business. 
                                        The machine, built by Nevada-based Robocoin and operated by local company 
                                        Bitcoiniacs, attracted crowds of curious onlookers and eager early adopters.
                                    </p>
                                    <p>
                                        The first customer, Jason Lamarche, deposited a $20 bill and received 
                                        approximately 0.1 BTC in return. On its first day, the ATM processed 81 
                                        transactions totaling over $10,000—demonstrating clear demand for an easier 
                                        way to buy Bitcoin.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>How It Worked</h3>
                                    <p>
                                        Unlike traditional ATMs, the Robocoin machine required biometric verification—a 
                                        palm scan—to comply with anti-money laundering regulations. Users could buy or 
                                        sell Bitcoin for Canadian dollars, with a daily limit of $3,000. The Bitcoin 
                                        was sent directly to a wallet address displayed on the user's smartphone.
                                    </p>
                                    <p>
                                        Canada proved an ideal launch location. The government had taken a wait-and-see 
                                        approach to Bitcoin regulation, treating it as a commodity rather than currency. 
                                        This light-touch regulatory environment allowed entrepreneurs to experiment in 
                                        ways that would have been difficult in the United States.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Breaking Down Barriers</h3>
                                    <p>
                                        Before Bitcoin ATMs, acquiring Bitcoin was complicated. Users had to register 
                                        on exchanges, verify their identity, link bank accounts, and wait days for 
                                        transfers to clear. The ATM reduced this to a few minutes—walk up, insert cash, 
                                        receive Bitcoin.
                                    </p>
                                    <p>
                                        Robocoin CEO Jordan Kelley summarized the mission: "Signing up for accounts 
                                        on exchanges is arduous. You have to have bank account information. That's 
                                        what kind of holds Bitcoin back from mass adoption. You can literally walk 
                                        up to the machine, scan your hand, and get started with Bitcoin."
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Global Expansion</h3>
                                    <p>
                                        From that single machine in Vancouver, Bitcoin ATMs spread worldwide. By 2024, 
                                        over 38,000 Bitcoin ATMs operated globally, with the largest concentration in 
                                        the United States. The machines became physical touchpoints for a digital 
                                        revolution—visible reminders that cryptocurrency had entered the mainstream.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Key Figures</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Jordan Kelley</div>
                                            <div class="person-role">Robocoin Founder & CEO</div>
                                            <p class="person-bio">
                                                Founded Robocoin to build the world's first bidirectional Bitcoin ATMs. 
                                                The company pioneered the bitcoin kiosk industry before eventually 
                                                pivoting to other ventures.
                                            </p>
                                        </div>
                                        <div class="person-card">
                                            <div class="person-name">Mitchell Demeter</div>
                                            <div class="person-role">Bitcoiniacs Co-founder</div>
                                            <p class="person-bio">
                                                Canadian Bitcoin broker who operated the first Bitcoin ATM and opened 
                                                one of the first physical Bitcoin brokerages in Vancouver.
                                            </p>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://www.cbc.ca/news/science/world-s-first-bitcoin-atm-opens-in-vancouver-1.2286877" target="_blank" class="resource-link">
                                            <div class="resource-icon">📰</div>
                                            <div class="resource-info">
                                                <div class="resource-title">World's First Bitcoin ATM Opens — CBC News</div>
                                                <div class="resource-desc">Original news coverage from the day of the launch.</div>
                                            </div>
                                        </a>
                                        <a href="https://bitbo.io/calendar/first-btc-atm/" target="_blank" class="resource-link">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">First Bitcoin ATM — Bitbo Calendar</div>
                                                <div class="resource-desc">Historical documentation of this milestone.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2013 $1000 Milestone -->
                <div class="timeline-event" data-act="ecosystem" data-detail="btc-1000-detail">
                    
                    <div class="event-card">
                        <div class="year">2013</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Bitcoin Crosses $1,000</h2>
                            <button class="learn-more-btn" data-detail-target="btc-1000-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            November 2013. Bitcoin surpasses $1,000 for the first time. Major financial 
                            institutions begin taking notice. The narrative shifts from cypherpunk 
                            experiment to potential financial revolution.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Price Chart Breaking $1000]</span>
                    </div>

                    <div class="detail-section" id="btc-1000-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">November 27-29, 2013</div>
                                <h2 class="detail-title">A Four-Digit Asset</h2>
                                <p class="detail-subtitle">
                                    Bitcoin's first breach of $1,000 marked its transformation from a niche 
                                    technology experiment to a globally recognized financial asset that even 
                                    traditional institutions could no longer ignore.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Rally</h3>
                                    <p>
                                        2013 was Bitcoin's breakout year. Starting at around $13, Bitcoin climbed 
                                        steadily through spring, surged to $266 during the Cyprus crisis in April, 
                                        crashed back to $50, then recovered. By October, it was back above $200. 
                                        Then came November—Bitcoin went parabolic.
                                    </p>
                                    <p>
                                        On November 27, 2013, Bitcoin crossed $1,000 for the first time on Mt. Gox. 
                                        Within 48 hours, it briefly touched $1,242. The 8,000% annual gain stunned 
                                        even the most optimistic believers. By year's end, Bitcoin's market cap 
                                        exceeded $10 billion.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>What Drove the Surge</h3>
                                    <p>
                                        Multiple factors converged. China had become Bitcoin's largest market, with 
                                        exchanges like BTC China processing massive volumes. The first halving the 
                                        previous year had reduced new supply. The Cyprus crisis had demonstrated 
                                        Bitcoin's value proposition. And mainstream media attention created a 
                                        feedback loop of awareness and demand.
                                    </p>
                                    <p>
                                        A U.S. Senate hearing on virtual currencies in November provided unexpected 
                                        legitimacy. Officials acknowledged potential benefits of cryptocurrency, and 
                                        the relatively positive tone suggested Bitcoin wouldn't face immediate 
                                        prohibition in the world's largest economy.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Institutional Awakening</h3>
                                    <p>
                                        At $1,000+, Bitcoin became impossible for the financial establishment to 
                                        ignore. Bank of America issued its first Bitcoin research report. Major 
                                        news networks ran segments. The Winklevoss twins—famous from their Facebook 
                                        lawsuit—revealed they owned approximately 1% of all Bitcoin.
                                    </p>
                                    <p>
                                        This was the moment Bitcoin transitioned from "internet funny money" to 
                                        "potential alternative asset class" in mainstream perception. The question 
                                        changed from "What is Bitcoin?" to "How much is it worth?"
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Aftermath</h3>
                                    <p>
                                        The euphoria didn't last. In December, China's central bank prohibited 
                                        financial institutions from handling Bitcoin. The price crashed back to 
                                        $600. When Mt. Gox collapsed in February 2014, Bitcoin fell below $400 
                                        and wouldn't return to $1,000 until early 2017—a nearly four-year wait.
                                    </p>
                                    <p>
                                        But those who held through the crash were vindicated. Bitcoin eventually 
                                        reached $100,000—a hundred-fold increase from its first four-digit milestone.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Price Milestones</h3>
                                    <div class="resources-list">
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📈</div>
                                            <div class="resource-info">
                                                <div class="resource-title">January 2013: ~$13</div>
                                                <div class="resource-desc">Bitcoin begins the year as a niche asset</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📈</div>
                                            <div class="resource-info">
                                                <div class="resource-title">April 2013: $266</div>
                                                <div class="resource-desc">Cyprus crisis drives first major bubble</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📈</div>
                                            <div class="resource-info">
                                                <div class="resource-title">November 27, 2013: $1,000</div>
                                                <div class="resource-desc">First four-digit price achieved</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📈</div>
                                            <div class="resource-info">
                                                <div class="resource-title">November 29, 2013: $1,242</div>
                                                <div class="resource-desc">Peak of the 2013 bull market</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2014 Mt. Gox Collapse -->
                <div class="timeline-event" data-act="ecosystem" data-detail="mtgox-collapse-detail">
                    
                    <div class="event-card">
                        <div class="year">2014</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Mt. Gox Collapse</h2>
                            <button class="learn-more-btn" data-detail-target="mtgox-collapse-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            February 2014. Mt. Gox declares bankruptcy after losing 850,000 BTC to hacks 
                            and mismanagement. A devastating blow—but also a lesson: Bitcoin needs better 
                            infrastructure, stronger custody solutions, and institutional-grade security.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Mt. Gox Collapse Headlines]</span>
                    </div>

                    <div class="detail-section" id="mtgox-collapse-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">February 24-28, 2014</div>
                                <h2 class="detail-title">The Collapse That Changed Everything</h2>
                                <p class="detail-subtitle">
                                    The largest Bitcoin exchange's spectacular failure destroyed hundreds of millions 
                                    in customer funds—but also catalyzed an industry-wide transformation in security, 
                                    regulation, and professionalization.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>The Unraveling</h3>
                                    <p>
                                        Signs of trouble had been accumulating for months. In summer 2013, Mt. Gox 
                                        began experiencing withdrawal delays. By February 2014, customers reported 
                                        waiting weeks or months for their Bitcoin. On February 7, Mt. Gox halted 
                                        all Bitcoin withdrawals, blaming a "bug in the Bitcoin software" called 
                                        transaction malleability.
                                    </p>
                                    <p>
                                        Other exchanges quickly called out this excuse as misleading—the bug existed, 
                                        but shouldn't have caused the problems Mt. Gox described. Something else was 
                                        clearly wrong.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Fall</h3>
                                    <p>
                                        On February 24, 2014, Mt. Gox went offline completely. CEO Mark Karpelès 
                                        resigned from the Bitcoin Foundation board. A leaked internal document 
                                        revealed the horrifying truth: Mt. Gox had lost approximately 850,000 BTC—
                                        744,408 belonging to customers and 100,000 of the company's own coins. 
                                        At the time, this was worth roughly $460 million.
                                    </p>
                                    <p>
                                        On February 28, Mt. Gox filed for bankruptcy protection in Japan. CEO 
                                        Karpelès admitted that the coins had been "stolen" through a "weakness 
                                        in our system." Later investigation revealed that most of the theft had 
                                        occurred gradually over years, not in a single hack—suggesting massive 
                                        negligence in monitoring the exchange's holdings.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Investigation</h3>
                                    <p>
                                        Karpelès was arrested in Japan in August 2015 and charged with embezzlement 
                                        and data manipulation. In March 2019, a Japanese court found him guilty of 
                                        falsifying data but acquitted him on the more serious embezzlement charges. 
                                        He received a suspended sentence.
                                    </p>
                                    <p>
                                        Meanwhile, blockchain investigators at WizSec traced much of the stolen 
                                        Bitcoin to a single user known as "WME," later identified as Alexander 
                                        Vinnik—operator of the BTC-e exchange. In 2017, Vinnik was arrested in 
                                        Greece on U.S. money laundering charges.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Lessons</h3>
                                    <p>
                                        Mt. Gox became a cautionary tale that shaped the entire crypto industry. 
                                        Exchanges implemented proof-of-reserves audits. Cold storage and multi-signature 
                                        wallets became standard. Regulatory frameworks emerged—Japan created the first 
                                        formal cryptocurrency exchange regulations directly in response to Mt. Gox.
                                    </p>
                                    <p>
                                        The phrase "not your keys, not your coins" entered the Bitcoin lexicon. 
                                        For early Bitcoiners, Mt. Gox proved what they'd always preached: trusting 
                                        third parties defeats the purpose of a trustless system.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Long Road to Recovery</h3>
                                    <p>
                                        In an unexpected twist, 200,000 BTC were later "found" in old wallets. 
                                        As Bitcoin's price rose over the following decade, these recovered coins 
                                        became worth billions—ultimately more than enough to repay creditors in 
                                        full at their 2014 claim values. The decade-long bankruptcy proceedings 
                                        finally began distributing funds to creditors in 2024.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://en.wikipedia.org/wiki/Mt._Gox" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Mt. Gox — Wikipedia</div>
                                                <div class="resource-desc">Complete history from founding to collapse and aftermath.</div>
                                            </div>
                                        </a>
                                        <a href="https://darknetdiaries.com/transcript/9/" target="_blank" class="resource-link">
                                            <div class="resource-icon">🎙️</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Darknet Diaries — The Rise and Fall of Mt. Gox</div>
                                                <div class="resource-desc">In-depth podcast exploring the technical and human failures.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 2014 Blockstream Founded -->
                <div class="timeline-event" data-act="ecosystem" data-detail="blockstream-detail">
                    <div class="event-quote">"Building the future of Bitcoin"</div>
                    <div class="event-card">
                        <div class="year">2014</div>
                        <div class="event-title-wrapper">
                            <h2 class="event-title">Blockstream Founded</h2>
                            <button class="learn-more-btn" data-detail-target="blockstream-detail">
                                Learn More <span class="arrow">↓</span>
                            </button>
                        </div>
                        <p class="event-description">
                            November 2014. Adam Back, Gregory Maxwell, and other Bitcoin pioneers found 
                            Blockstream. The company commits to building Bitcoin infrastructure—developing 
                            the Lightning Network, Liquid sidechain, and driving critical protocol improvements. 
                            The next chapter of Bitcoin's evolution begins.
                        </p>
                    </div>
                    <div class="image-placeholder">
                        <span class="placeholder-text">[Blockstream Founders Photo]</span>
                    </div>

                    <div class="detail-section" id="blockstream-detail">
                        <div class="detail-container">
                            <div class="detail-header">
                                <div class="detail-year">November 2014</div>
                                <h2 class="detail-title">The Cypherpunks Build a Company</h2>
                                <p class="detail-subtitle">
                                    When the creator of Hashcash joined forces with Bitcoin Core developers, 
                                    they formed the most influential company in Bitcoin infrastructure—bringing 
                                    cypherpunk ideals into the corporate world.
                                </p>
                            </div>
                            <div class="detail-content">
                                <div class="detail-block">
                                    <h3>Origins</h3>
                                    <p>
                                        Blockstream emerged from conversations among Bitcoin Core developers who 
                                        saw a need for dedicated resources to build Bitcoin's next layer of 
                                        infrastructure. Adam Back—inventor of Hashcash, the proof-of-work system 
                                        cited in Bitcoin's whitepaper—joined with developers Gregory Maxwell, 
                                        Pieter Wuille, Matt Corallo, Jorge Timón, and Mark Friedenbach.
                                    </p>
                                    <p>
                                        The company launched in November 2014 with $21 million in seed funding 
                                        from investors including Reid Hoffman (LinkedIn founder) and Khosla 
                                        Ventures. Headquartered in Victoria, British Columbia, Blockstream set 
                                        out to build "financial infrastructure based on Bitcoin."
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Sidechains: The Core Innovation</h3>
                                    <p>
                                        Blockstream's founding concept was sidechains—separate blockchains that 
                                        could be "pegged" to Bitcoin, allowing assets to move between chains. 
                                        This would let developers experiment with new features without risking 
                                        Bitcoin's security or requiring contentious protocol changes.
                                    </p>
                                    <p>
                                        The Liquid Network, launched in 2018, became the first production 
                                        sidechain. Designed for exchanges and traders, Liquid enables faster, 
                                        more confidential Bitcoin transactions. By 2024, the network's total 
                                        value locked exceeded $3 billion.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>Bitcoin Core Contributions</h3>
                                    <p>
                                        Blockstream developers made foundational contributions to Bitcoin itself. 
                                        Pieter Wuille led the implementation of Segregated Witness (SegWit), a 
                                        2017 upgrade that increased Bitcoin's capacity and enabled second-layer 
                                        solutions. Gregory Maxwell developed key cryptographic techniques including 
                                        Confidential Transactions and contributed to the libsecp256k1 library that 
                                        secures Bitcoin's cryptographic operations.
                                    </p>
                                    <p>
                                        Analysis shows that Blockstream developers authored over 23% of Bitcoin 
                                        Core commits between the company's founding and version 0.12—making it 
                                        one of the largest contributors to Bitcoin's reference implementation.
                                    </p>
                                </div>
                                <div class="detail-block">
                                    <h3>The Founders</h3>
                                    <div class="people-grid">
                                        <div class="person-card">
                                            <div class="person-name">Adam Back</div>
                                            <div class="person-role">CEO & Co-founder</div>
                                            <p class="person-bio">
                                                British cryptographer who invented Hashcash in 1997. One of the first 
                                                people Satoshi contacted about Bitcoin. Named CEO of Blockstream in 
                                                2016. Often cited as a possible Satoshi candidate.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Adam_Back" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                        <div class="person-card">
                                            <div class="person-name">Gregory Maxwell</div>
                                            <div class="person-role">Co-founder & Former CTO</div>
                                            <p class="person-bio">
                                                Bitcoin Core developer from 2011-2018. Architected the two-way peg 
                                                that makes sidechains possible. Primary contributor to Confidential 
                                                Transactions. Previously worked at Mozilla.
                                            </p>
                                            <a href="https://www.weusecoins.com/gregory-maxwell-bitcoin-expert/" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                        <div class="person-card">
                                            <div class="person-name">Pieter Wuille</div>
                                            <div class="person-role">Co-founder</div>
                                            <p class="person-bio">
                                                Bitcoin Core maintainer from 2014-2022. Led implementation of SegWit 
                                                (BIP 141), one of Bitcoin's most significant upgrades. Created 
                                                libsecp256k1, Bitcoin's cryptographic library.
                                            </p>
                                            <a href="https://en.wikipedia.org/wiki/Pieter_Wuille" target="_blank" class="person-link">Read Biography →</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Key Milestones</h3>
                                    <div class="resources-list">
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">2014 — Company Founded</div>
                                                <div class="resource-desc">$21M seed round from Reid Hoffman, Khosla Ventures</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">2015 — Elements Released</div>
                                                <div class="resource-desc">Open-source sidechain framework launched</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">2017 — Satellite Network</div>
                                                <div class="resource-desc">Blockstream Satellite broadcasts Bitcoin blockchain globally</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">2018 — Liquid Network Launch</div>
                                                <div class="resource-desc">First production Bitcoin sidechain goes live</div>
                                            </div>
                                        </div>
                                        <div class="resource-link" style="cursor: default;">
                                            <div class="resource-icon">📅</div>
                                            <div class="resource-info">
                                                <div class="resource-title">2021 — Unicorn Status</div>
                                                <div class="resource-desc">$3.2B valuation after Series B funding</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="detail-block">
                                    <h3>Further Reading</h3>
                                    <div class="resources-list">
                                        <a href="https://blockstream.com/about/" target="_blank" class="resource-link">
                                            <div class="resource-icon">🏠</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Blockstream — Official About Page</div>
                                                <div class="resource-desc">Company history, team, and product overview.</div>
                                            </div>
                                        </a>
                                        <a href="https://en.wikipedia.org/wiki/Blockstream" target="_blank" class="resource-link">
                                            <div class="resource-icon">🌐</div>
                                            <div class="resource-info">
                                                <div class="resource-title">Blockstream — Wikipedia</div>
                                                <div class="resource-desc">Corporate history, products, and contributions to Bitcoin.</div>
                                            </div>
                                        </a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>

        <!-- Ending Section -->
        <section class="ending">
            <img src="blockstream-logo.png" alt="Blockstream" class="ending-logo">
            <div class="ending-text">The Future of Finance Runs on Bitcoin.</div>
            <p class="ending-subtitle">
                <a href="https://blockstream.com/about" target="_blank" rel="noopener">Learn how we're building it.</a>
            </p>
            <button class="quiz-btn" id="startQuizBtn">Test What You Know</button>
        </section>

        <!-- Quiz Modal -->
        <div class="quiz-modal" id="quizModal">
            <div class="quiz-container">
                <button class="quiz-close" id="quizClose">&times;</button>
                <div class="quiz-header">
                    <h2 class="quiz-title">Test Your Bitcoin History Knowledge</h2>
                    <div class="quiz-progress">
                        <span id="quizProgress">Question 1 of 21</span>
                        <div class="progress-bar-quiz">
                            <div class="progress-fill" id="quizProgressFill"></div>
                        </div>
                    </div>
                </div>
                <div class="quiz-content" id="quizContent">
                    <!-- Questions will be inserted here -->
                </div>
                <div class="quiz-navigation">
                    <button class="quiz-nav-btn" id="quizPrev" disabled>Previous</button>
                    <button class="quiz-nav-btn primary" id="quizNext">Next</button>
                    <button class="quiz-nav-btn primary" id="quizSubmit" style="display:none;">Submit Quiz</button>
                </div>
            </div>
        </div>

        <!-- Quiz Results Modal -->
        <div class="quiz-results-modal" id="quizResultsModal">
            <div class="quiz-results-container">
                <div class="results-header">
                    <button class="results-close-btn" id="resultsBackBtn">&times;</button>
                    <h2 class="results-title">Your Results</h2>
                    <div class="score-display" id="scoreDisplay">
                        <span class="score-number" id="scoreNumber">0</span>
                        <span class="score-total">/21</span>
                    </div>
                    <p class="score-message" id="scoreMessage"></p>
                    <div class="results-actions">
                        <button class="quiz-nav-btn" id="retakeQuiz">Retake Quiz</button>
                        <button class="quiz-nav-btn primary" id="shareScore">Share Your Score</button>
                    </div>
                </div>
                <div class="further-reading" id="furtherReading">
                    <h3>Further Reading</h3>
                    <div class="reading-list" id="readingList"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        // Three.js Scene Setup
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
        
        renderer.setSize(window.innerWidth, window.innerHeight);
        renderer.setPixelRatio(window.devicePixelRatio);
        document.getElementById('canvas-container').appendChild(renderer.domElement);

        // Particle System (blockchain network nodes)
        const particleCount = 800;
        const particles = new THREE.BufferGeometry();
        const positions = new Float32Array(particleCount * 3);
        const colors = new Float32Array(particleCount * 3);

        const blueColor = new THREE.Color(0x00d4ff);
        const darkBlueColor = new THREE.Color(0x006b8f);

        for (let i = 0; i < particleCount; i++) {
            positions[i * 3] = (Math.random() - 0.5) * 100;
            positions[i * 3 + 1] = (Math.random() - 0.5) * 100;
            positions[i * 3 + 2] = (Math.random() - 0.5) * 100;

            const color = Math.random() > 0.3 ? blueColor : darkBlueColor;
            colors[i * 3] = color.r;
            colors[i * 3 + 1] = color.g;
            colors[i * 3 + 2] = color.b;
        }

        particles.setAttribute('position', new THREE.BufferAttribute(positions, 3));
        particles.setAttribute('color', new THREE.BufferAttribute(colors, 3));

        const particleMaterial = new THREE.PointsMaterial({
            size: 0.12,
            vertexColors: true,
            transparent: true,
            opacity: 0.7,
            blending: THREE.AdditiveBlending
        });

        const particleSystem = new THREE.Points(particles, particleMaterial);
        scene.add(particleSystem);

        // Bitcoin Logo Meteors (for ecosystem phase)
        const bitcoinMeteors = [];
        const meteorGeometry = new THREE.SphereGeometry(0.5, 8, 8);
        const meteorMaterial = new THREE.MeshBasicMaterial({
            color: 0xf7931a,
            transparent: true,
            opacity: 0.8
        });

        for (let i = 0; i < 12; i++) {
            const meteor = new THREE.Mesh(meteorGeometry, meteorMaterial);
            meteor.position.set(
                (Math.random() - 0.5) * 100,
                (Math.random() - 0.5) * 100,
                (Math.random() - 0.5) * 100
            );
            meteor.velocity = {
                x: (Math.random() - 0.5) * 0.5,
                y: (Math.random() - 0.5) * 0.5,
                z: (Math.random() - 0.5) * 0.5
            };
            meteor.visible = false;
            scene.add(meteor);
            bitcoinMeteors.push(meteor);
        }

        camera.position.z = 35;

        // Section tracking
        const sections = [
            { type: 'hero', index: 0 },
            { type: 'chapter', index: 1, name: 'foundations' },
            { type: 'event', index: 2, act: 'foundations' },
            { type: 'event', index: 3, act: 'foundations' },
            { type: 'event', index: 4, act: 'foundations' },
            { type: 'chapter', index: 5, name: 'cypherpunks' },
            { type: 'event', index: 6, act: 'cypherpunks' },
            { type: 'event', index: 7, act: 'cypherpunks' },
            { type: 'event', index: 8, act: 'cypherpunks' },
            { type: 'chapter', index: 9, name: 'attempts' },
            { type: 'event', index: 10, act: 'attempts' },
            { type: 'event', index: 11, act: 'attempts' },
            { type: 'chapter', index: 12, name: 'genesis' },
            { type: 'event', index: 13, act: 'genesis' },
            { type: 'event', index: 14, act: 'genesis', isGenesisMoment: true },
            { type: 'event', index: 15, act: 'genesis' },
            { type: 'chapter', index: 16, name: 'ecosystem' },
            { type: 'event', index: 17, act: 'ecosystem' },
            { type: 'event', index: 18, act: 'ecosystem' },
            { type: 'event', index: 19, act: 'ecosystem' },
            { type: 'event', index: 20, act: 'ecosystem' },
            { type: 'event', index: 21, act: 'ecosystem' },
            { type: 'event', index: 22, act: 'ecosystem' },
            { type: 'event', index: 23, act: 'ecosystem' },
            { type: 'event', index: 24, act: 'ecosystem' },
            { type: 'event', index: 25, act: 'ecosystem' },
            { type: 'event', index: 26, act: 'ecosystem' },
            { type: 'event', index: 27, act: 'ecosystem' },
            { type: 'ending', index: 28 }
        ];

        // Event years data for notches
        const eventYears = [
            { sectionIndex: 2, year: '1976', title: 'Diffie-Hellman' },
            { sectionIndex: 3, year: '1983', title: 'eCash' },
            { sectionIndex: 4, year: '1991', title: 'Timestamps' },
            { sectionIndex: 6, year: '1992', title: 'Cypherpunks' },
            { sectionIndex: 7, year: '1997', title: 'Hashcash' },
            { sectionIndex: 8, year: '1998', title: 'B-Money' },
            { sectionIndex: 10, year: '2004', title: 'RPOW' },
            { sectionIndex: 11, year: '2006', title: 'E-Gold' },
            { sectionIndex: 13, year: '2008', title: 'Whitepaper' },
            { sectionIndex: 14, year: '2009', title: 'Genesis' },
            { sectionIndex: 15, year: '2009', title: 'Running Bitcoin' },
            { sectionIndex: 17, year: '2010', title: 'Pizza Day' },
            { sectionIndex: 18, year: '2010', title: 'Mt. Gox' },
            { sectionIndex: 19, year: '2011', title: 'Silk Road' },
            { sectionIndex: 20, year: '2011', title: 'Satoshi Leaves' },
            { sectionIndex: 21, year: '2012', title: 'Halving' },
            { sectionIndex: 22, year: '2013', title: 'Cyprus' },
            { sectionIndex: 23, year: '2013', title: 'SR Shutdown' },
            { sectionIndex: 24, year: '2013', title: 'ATMs' },
            { sectionIndex: 25, year: '2013', title: '$1000' },
            { sectionIndex: 26, year: '2014', title: 'Mt. Gox Fall' },
            { sectionIndex: 27, year: '2014', title: 'Blockstream' }
        ];

        // Track visited sections for year notches
        const visitedSections = new Set();
        const yearNotchElements = new Map();

        // Create year notches container
        function createYearNotches() {
            const timelineWrapper = document.querySelector('.timeline-wrapper');

            eventYears.forEach((eventData, idx) => {
                const notch = document.createElement('div');
                notch.className = 'year-notch';
                notch.dataset.sectionIndex = eventData.sectionIndex;

                // Calculate position based on timeline progress
                let timelineIndex = 0;
                for (let i = 0; i <= eventData.sectionIndex; i++) {
                    if (sections[i].type === 'chapter' || sections[i].type === 'event') {
                        timelineIndex++;
                    }
                }
                const progress = (timelineIndex - 1) / (totalTimelineSections - 1);
                const position = 10 + (progress * 80);
                notch.style.left = `${position}%`;

                // Add lightning icon for Genesis Block (sectionIndex 14)
                const isGenesis = eventData.sectionIndex === 14;
                const lightningIcon = `<span class="genesis-icon"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 2L3 14h9l-1 8 10-12h-9l1-8z"/></svg></span>`;
                notch.innerHTML = `
                    ${isGenesis ? lightningIcon : ''}
                    <span class="notch-year">${eventData.year}</span>
                    <div class="notch-line"></div>
                `;

                notch.addEventListener('click', (e) => {
                    e.stopPropagation();
                    currentSection = eventData.sectionIndex;
                    activateCurrentSection();
                    targetPosition = currentSection;
                });

                timelineWrapper.appendChild(notch);
                yearNotchElements.set(eventData.sectionIndex, notch);
            });
        }

        // Show notches for visited sections
        function updateVisitedNotches() {
            visitedSections.forEach(sectionIdx => {
                const notch = yearNotchElements.get(sectionIdx);
                if (notch) notch.classList.add('visible');
            });
        }

        // Horizontal Scroll Logic
        const timelineEvents = document.querySelector('.timeline-events');
        const eventElements = document.querySelectorAll('.timeline-event');
        const chapterCards = document.querySelectorAll('.chapter-card');
        const hero = document.querySelector('.hero');
        const timelineWrapper = document.querySelector('.timeline-wrapper');
        const ending = document.querySelector('.ending');
        const lightningEffect = document.querySelector('.genesis-lightning');
        const timelineNotch = document.querySelector('.timeline-notch');
        
        let scrollPosition = 0;
        let targetPosition = 0;
        let currentSection = 0;
        let scrollAccumulator = 0;
        const smoothing = 0.1;
        const scrollThreshold = 800;
        const maxSection = sections.length - 1;
        let hasTriggeredLightning = false;
        let isEcosystemPhase = false;

        // Calculate total timeline sections (only chapters + events, not hero/ending)
        const timelineSections = sections.filter(s => s.type === 'chapter' || s.type === 'event');
        const totalTimelineSections = timelineSections.length;

        function handleWheel(e) {
            e.preventDefault();
            
            const delta = e.deltaY || e.detail || e.wheelDelta;
            scrollAccumulator += delta;
            
            if (scrollAccumulator > scrollThreshold) {
                const oldSection = currentSection;
                currentSection = Math.min(maxSection, currentSection + 1);
                scrollAccumulator = 0;
                
                if (currentSection !== oldSection) {
                    activateCurrentSection();
                    targetPosition = currentSection;
                }
            } else if (scrollAccumulator < -scrollThreshold) {
                const oldSection = currentSection;
                currentSection = Math.max(0, currentSection - 1);
                scrollAccumulator = 0;
                
                if (currentSection !== oldSection) {
                    activateCurrentSection();
                    targetPosition = currentSection;
                }
            }
        }

        function animateToCurrentPosition() {
            // No longer needed - elements are absolutely positioned
        }

        function activateCurrentSection() {
            const currentSectionData = sections[currentSection];
            
            if (!currentSectionData) return;
            
            // Update visibility immediately
            if (currentSectionData.type === 'hero') {
                hero.classList.remove('hidden');
                timelineWrapper.classList.remove('visible');
                ending.classList.remove('visible');
                isEcosystemPhase = false;
                if (timelineNotch) timelineNotch.classList.remove('active');
                return;
            } else if (currentSectionData.type === 'ending') {
                hero.classList.add('hidden');
                timelineWrapper.classList.remove('visible');
                timelineWrapper.classList.remove('faded');
                ending.classList.add('visible');
                isEcosystemPhase = false;
                if (timelineNotch) timelineNotch.classList.remove('active');

                // Mark all events as visited when reaching the end
                eventYears.forEach(e => visitedSections.add(e.sectionIndex));
                updateVisitedNotches();
                return;
            }
            
            // We're in timeline
            hero.classList.add('hidden');
            timelineWrapper.classList.add('visible');
            timelineWrapper.classList.remove('faded');
            ending.classList.remove('visible');
            if (timelineNotch) timelineNotch.classList.add('active');
            
            // Calculate notch position (left to right based on timeline progress)
            // Count which timeline section we're on (excluding hero/ending)
            let timelineIndex = 0;
            for (let i = 0; i <= currentSection; i++) {
                if (sections[i].type === 'chapter' || sections[i].type === 'event') {
                    timelineIndex++;
                }
            }
            
            // Move notch from 10% (left) to 90% (right)
            const progress = (timelineIndex - 1) / (totalTimelineSections - 1);
            const notchPosition = 10 + (progress * 80); // 10% to 90%
            if (timelineNotch) timelineNotch.style.left = `${notchPosition}%`;

            // Mark all previous event sections as visited (show trailing notches)
            for (let i = 0; i < currentSection; i++) {
                if (sections[i].type === 'event') {
                    visitedSections.add(i);
                }
            }
            updateVisitedNotches();

            // Track ecosystem phase
            isEcosystemPhase = currentSectionData.act === 'ecosystem';

            // Clear all active states
            chapterCards.forEach(card => card.classList.remove('active'));
            eventElements.forEach(event => event.classList.remove('active'));
            
            // Activate current element (content appears here, before timeline moves)
            if (currentSectionData.type === 'chapter') {
                const activeChapter = document.querySelector(`[data-chapter="${currentSectionData.name}"]`);
                if (activeChapter) activeChapter.classList.add('active');
            } else if (currentSectionData.type === 'event') {
                // Count how many events came before this one
                let eventsBefore = 0;
                for (let i = 0; i < currentSection; i++) {
                    if (sections[i].type === 'event') eventsBefore++;
                }
                if (eventElements[eventsBefore]) {
                    eventElements[eventsBefore].classList.add('active');
                }
                
                // Trigger lightning for Genesis Block moment
                if (currentSectionData.isGenesisMoment && !hasTriggeredLightning) {
                    triggerLightningStrike();
                    hasTriggeredLightning = true;
                }
            }
        }

        function updateScene() {
            const diff = targetPosition - scrollPosition;
            
            if (Math.abs(diff) < 0.01) {
                scrollPosition = targetPosition;
            } else {
                scrollPosition += diff * smoothing;
            }
            
            const progress = scrollPosition / maxSection;
            document.querySelector('.progress-bar').style.transform = `scaleX(${progress})`;
            
            // Show/hide Bitcoin meteors based on ecosystem phase
            bitcoinMeteors.forEach(meteor => {
                meteor.visible = isEcosystemPhase;
            });
            
            updateThreeScene(progress);
            requestAnimationFrame(updateScene);
        }

        function triggerLightningStrike() {
            lightningEffect.classList.add('active');
            
            // Create lightning bolt element
            const bolt = document.createElement('div');
            bolt.className = 'lightning-bolt';
            lightningEffect.appendChild(bolt);
            
            // Remove after animation
            setTimeout(() => {
                lightningEffect.classList.remove('active');
                bolt.remove();
            }, 2000);
        }

        function updateThreeScene(progress) {
            // Rotate camera based on scroll
            camera.position.x = Math.sin(progress * Math.PI * 2) * 15;
            camera.position.y = Math.cos(progress * Math.PI * 2) * 15;
            camera.lookAt(0, 0, 0);

            // Rotate particle system
            particleSystem.rotation.y = progress * Math.PI * 2;
            particleSystem.rotation.x = progress * Math.PI;
            
            // Animate Bitcoin meteors in ecosystem phase
            if (isEcosystemPhase) {
                bitcoinMeteors.forEach(meteor => {
                    meteor.position.x += meteor.velocity.x;
                    meteor.position.y += meteor.velocity.y;
                    meteor.position.z += meteor.velocity.z;

                    // Wrap around when they go out of bounds
                    if (Math.abs(meteor.position.x) > 50) meteor.position.x *= -0.9;
                    if (Math.abs(meteor.position.y) > 50) meteor.position.y *= -0.9;
                    if (Math.abs(meteor.position.z) > 50) meteor.position.z *= -0.9;

                    // Rotate for effect
                    meteor.rotation.x += 0.02;
                    meteor.rotation.y += 0.02;
                });
            }
        }

        window.addEventListener('wheel', handleWheel, { passive: false });
        window.addEventListener('resize', () => {
            camera.aspect = window.innerWidth / window.innerHeight;
            camera.updateProjectionMatrix();
            renderer.setSize(window.innerWidth, window.innerHeight);
        });

        // Notch dragging functionality
        const notchElement = document.getElementById('timelineNotch');
        let isDragging = false;
        let notchRotation = 0;
        let lastNotchPosition = 10;

        function updateNotchRotation(newPosition) {
            const delta = newPosition - lastNotchPosition;
            notchRotation += delta * 10; // Spin based on movement
            if (notchElement) {
                const ring = notchElement.querySelector('.notch-ring');
                if (ring) ring.style.transform = `rotate(${notchRotation}deg)`;
            }
            lastNotchPosition = newPosition;
        }

        if (notchElement) {
            notchElement.addEventListener('mousedown', (e) => {
                if (!timelineWrapper.classList.contains('visible')) return;
                isDragging = true;
                notchElement.style.transition = 'none';
                e.preventDefault();
            });

            document.addEventListener('mousemove', (e) => {
                if (!isDragging) return;

                const wrapperRect = timelineWrapper.getBoundingClientRect();
                const relativeX = e.clientX - wrapperRect.left;
                const percentage = (relativeX / wrapperRect.width) * 100;

                // Clamp between 10% and 90%
                const clampedPercentage = Math.max(10, Math.min(90, percentage));

                // Update notch position visually
                notchElement.style.left = `${clampedPercentage}%`;
                updateNotchRotation(clampedPercentage);
            });

            document.addEventListener('mouseup', (e) => {
                if (!isDragging) return;
                isDragging = false;
                notchElement.style.transition = '';

                // Calculate which section we should snap to
                const wrapperRect = timelineWrapper.getBoundingClientRect();
                const relativeX = e.clientX - wrapperRect.left;
                const percentage = (relativeX / wrapperRect.width) * 100;
                const clampedPercentage = Math.max(10, Math.min(90, percentage));

                // Convert percentage to timeline section
                const progress = (clampedPercentage - 10) / 80; // 0 to 1
                const targetTimelineIndex = Math.round(progress * (totalTimelineSections - 1));

                // Find the actual section index for this timeline index
                let timelineCount = 0;
                for (let i = 0; i < sections.length; i++) {
                    if (sections[i].type === 'chapter' || sections[i].type === 'event') {
                        if (timelineCount === targetTimelineIndex) {
                            currentSection = i;
                            break;
                        }
                        timelineCount++;
                    }
                }

                activateCurrentSection();
                targetPosition = currentSection;
            });

            // Touch support
            notchElement.addEventListener('touchstart', (e) => {
                if (!timelineWrapper.classList.contains('visible')) return;
                isDragging = true;
                notchElement.style.transition = 'none';
                e.preventDefault();
            }, { passive: false });

            document.addEventListener('touchmove', (e) => {
                if (!isDragging) return;

                const touch = e.touches[0];
                const wrapperRect = timelineWrapper.getBoundingClientRect();
                const relativeX = touch.clientX - wrapperRect.left;
                const percentage = (relativeX / wrapperRect.width) * 100;

                const clampedPercentage = Math.max(10, Math.min(90, percentage));
                notchElement.style.left = `${clampedPercentage}%`;
                updateNotchRotation(clampedPercentage);
            }, { passive: false });

            document.addEventListener('touchend', (e) => {
                if (!isDragging) return;
                isDragging = false;
                notchElement.style.transition = '';

                // Snap to nearest section
                const currentLeft = parseFloat(notchElement.style.left) || 10;
                const progress = (currentLeft - 10) / 80;
                const targetTimelineIndex = Math.round(progress * (totalTimelineSections - 1));

                let timelineCount = 0;
                for (let i = 0; i < sections.length; i++) {
                    if (sections[i].type === 'chapter' || sections[i].type === 'event') {
                        if (timelineCount === targetTimelineIndex) {
                            currentSection = i;
                            break;
                        }
                        timelineCount++;
                    }
                }

                activateCurrentSection();
                targetPosition = currentSection;
            });
        }

        // Update rotation when scrolling too
        const originalActivateSection = activateCurrentSection;
        activateCurrentSection = function() {
            originalActivateSection();
            // Update rotation based on notch position
            const currentLeft = parseFloat(notchElement?.style.left) || 10;
            updateNotchRotation(currentLeft);
        };

        // Animation Loop
        function animate() {
            requestAnimationFrame(animate);
            particleSystem.rotation.y += 0.0003;
            renderer.render(scene, camera);
        }

        // Shooting stars - random, infrequent
        const shootingStarsContainer = document.getElementById('shooting-stars-container');

        function createShootingStar() {
            const star = document.createElement('div');
            star.className = 'shooting-star';

            // Random position (top half of screen mostly)
            star.style.top = (Math.random() * 60) + '%';
            star.style.left = (Math.random() * 70) + '%';

            // Random angle (-30 to 30 degrees)
            const angle = (Math.random() - 0.5) * 60;
            star.style.transform = `rotate(${angle}deg)`;

            shootingStarsContainer.appendChild(star);

            // Remove after animation
            setTimeout(() => star.remove(), 500);
        }

        function scheduleNextShootingStar() {
            // Random interval between 20-40 seconds
            const delay = 20000 + Math.random() * 20000;
            setTimeout(() => {
                createShootingStar();
                scheduleNextShootingStar();
            }, delay);
        }

        // Start the shooting star cycle
        scheduleNextShootingStar();

        // Create year notches on timeline
        createYearNotches();

        animate();
        updateScene();
        activateCurrentSection(); // Initial activation

        // ============================================
        // Event handlers for Learn More functionality
        // ============================================
        
        const backToTimelineBtn = document.getElementById('backToTimeline');
        const modeToggleBtn = document.getElementById('modeToggle');
        const contentEl = document.getElementById('content');
        let isLightMode = false;

        // Light/Dark mode toggle handler
        modeToggleBtn.addEventListener('click', function() {
            isLightMode = !isLightMode;
            const detailSections = document.querySelectorAll('.detail-section');
            detailSections.forEach(function(section) {
                if (isLightMode) {
                    section.classList.add('light-mode');
                } else {
                    section.classList.remove('light-mode');
                }
            });
            // Update slider position
            if (isLightMode) {
                this.classList.add('light-active');
            } else {
                this.classList.remove('light-active');
            }
        });

        // Add click handlers to ALL Learn More buttons using event delegation
        document.querySelectorAll('.learn-more-btn[data-detail-target]').forEach(function(btn) {
            btn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                const detailId = this.getAttribute('data-detail-target');
                if (detailId) {
                    showDetail(detailId);
                }
            });
        });
        
        function showDetail(detailId) {
            const detailSection = document.getElementById(detailId);
            if (!detailSection) return;

            isInDetailView = true;
            activeDetailId = detailId;

            // Hide the ending section so it doesn't show behind
            if (ending) {
                ending.classList.remove('visible');
            }

            // Make timeline-wrapper visible so detail sections can be seen
            if (timelineWrapper) {
                timelineWrapper.classList.add('visible');
            }

            // CRITICAL: The detail section is inside a timeline-event which may have
            // opacity: 0 / visibility: hidden. We need to force the parent event visible.
            const parentEvent = detailSection.closest('.timeline-event');
            if (parentEvent) {
                // Temporarily make parent event visible so detail can show
                parentEvent.style.opacity = '1';
                parentEvent.style.visibility = 'visible';
                parentEvent.style.pointerEvents = 'auto';
                // Hide the event card content (but not the detail section)
                const eventCard = parentEvent.querySelector('.event-card');
                if (eventCard) eventCard.style.display = 'none';
                const eventQuote = parentEvent.querySelector('.event-quote');
                if (eventQuote) eventQuote.style.display = 'none';
            }

            // Show the detail section
            detailSection.classList.add('active');

            // Show the back button and mode toggle
            if (backToTimelineBtn) backToTimelineBtn.classList.add('visible');
            if (modeToggleBtn) modeToggleBtn.classList.add('visible');

            // Apply current mode to detail section
            if (isLightMode) {
                detailSection.classList.add('light-mode');
            }
        }
        
        function hideDetail() {
            if (!activeDetailId) return;

            const detailSection = document.getElementById(activeDetailId);
            const wasFromQuizReview = isFromQuizReview;

            // Hide back button and mode toggle first
            if (backToTimelineBtn) backToTimelineBtn.classList.remove('visible');
            if (modeToggleBtn) modeToggleBtn.classList.remove('visible');

            // Reset back button text
            if (backToTimelineBtn) {
                backToTimelineBtn.innerHTML = '<span class="arrow-up">↑</span> Back to Timeline';
            }

            if (wasFromQuizReview) {
                // CRITICAL: Hide timeline-wrapper FIRST before showing anything
                if (timelineWrapper) {
                    timelineWrapper.style.opacity = '0';
                    timelineWrapper.style.visibility = 'hidden';
                    timelineWrapper.classList.remove('visible');
                }

                // Clean up the detail section immediately
                if (detailSection) {
                    const parentEvent = detailSection.closest('.timeline-event');
                    if (parentEvent) {
                        parentEvent.style.opacity = '0';
                        parentEvent.style.visibility = 'hidden';
                    }
                    detailSection.classList.remove('active');
                    detailSection.classList.remove('from-quiz');
                }

                // NOW show quiz modal (everything else is already hidden)
                quizResultsModal.classList.add('active');
                if (ending) ending.classList.add('visible');

                // Clean up after a delay
                setTimeout(() => {
                    if (detailSection) {
                        const parentEvent = detailSection.closest('.timeline-event');
                        if (parentEvent) {
                            parentEvent.style.opacity = '';
                            parentEvent.style.visibility = '';
                            parentEvent.style.pointerEvents = '';
                            parentEvent.style.zIndex = '';
                            parentEvent.style.position = '';
                            parentEvent.style.top = '';
                            parentEvent.style.left = '';
                            parentEvent.style.width = '';
                            parentEvent.style.height = '';
                            parentEvent.style.transform = '';
                            const eventCard = parentEvent.querySelector('.event-card');
                            if (eventCard) eventCard.style.display = '';
                            const eventQuote = parentEvent.querySelector('.event-quote');
                            if (eventQuote) eventQuote.style.display = '';
                        }
                    }
                    if (timelineWrapper) {
                        timelineWrapper.style.opacity = '';
                        timelineWrapper.style.visibility = '';
                    }
                }, 100);
            } else {
                // Normal close (not from quiz review)
                if (detailSection) {
                    detailSection.classList.remove('active');
                    detailSection.classList.remove('from-quiz');

                    const parentEvent = detailSection.closest('.timeline-event');
                    if (parentEvent) {
                        parentEvent.style.opacity = '';
                        parentEvent.style.visibility = '';
                        parentEvent.style.pointerEvents = '';
                        parentEvent.style.zIndex = '';
                        parentEvent.style.position = '';
                        parentEvent.style.top = '';
                        parentEvent.style.left = '';
                        parentEvent.style.width = '';
                        parentEvent.style.height = '';
                        parentEvent.style.transform = '';
                        const eventCard = parentEvent.querySelector('.event-card');
                        if (eventCard) eventCard.style.display = '';
                        const eventQuote = parentEvent.querySelector('.event-quote');
                        if (eventQuote) eventQuote.style.display = '';
                    }
                }
            }

            // Reset state
            isInDetailView = false;
            activeDetailId = null;
            isFromQuizReview = false;
        }
        
        // Back to Timeline button click handler
        backToTimelineBtn.addEventListener('click', hideDetail);
        
        // Override the wheel handler when in detail view
        const originalHandleWheel = handleWheel;
        window.removeEventListener('wheel', handleWheel, { passive: false });
        
        window.addEventListener('wheel', function(e) {
            if (isInDetailView) {
                // Let detail section scroll naturally, but don't close on swipe up
                // User must click "Back to Timeline" button to return
            } else {
                originalHandleWheel(e);
            }
        }, { passive: false });
        
        // Keyboard support - Escape to go back
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape' && isInDetailView) {
                hideDetail();
            }
        });

        // ============================================
        // Quiz Functionality
        // ============================================

        const quizQuestions = [
            // Foundations
            { question: "In what year was the Diffie-Hellman key exchange published?", options: ["1974", "1976", "1978", "1980"], correct: 1, topic: "Diffie-Hellman", link: "#diffie-hellman-detail" },
            { question: "Who introduced the concept of public-key cryptography?", options: ["Satoshi Nakamoto", "David Chaum", "Whitfield Diffie & Martin Hellman", "Hal Finney"], correct: 2, topic: "Diffie-Hellman", link: "#diffie-hellman-detail" },
            { question: "What problem did Diffie-Hellman solve?", options: ["Double spending", "Key distribution", "Transaction speed", "Mining difficulty"], correct: 1, topic: "Diffie-Hellman", link: "#diffie-hellman-detail" },
            { question: "In what year did David Chaum introduce eCash?", options: ["1981", "1983", "1985", "1987"], correct: 1, topic: "eCash", link: "#ecash-detail" },
            { question: "What technology did David Chaum invent for anonymous payments?", options: ["Blockchain", "Blind signatures", "Proof of work", "Smart contracts"], correct: 1, topic: "eCash", link: "#ecash-detail" },
            { question: "What company did David Chaum found to implement eCash?", options: ["PayPal", "DigiCash", "E-Gold", "Liberty Reserve"], correct: 1, topic: "eCash", link: "#ecash-detail" },
            { question: "Who developed the concept of cryptographic timestamps in 1991?", options: ["Wei Dai", "Stuart Haber & Scott Stornetta", "Nick Szabo", "Adam Back"], correct: 1, topic: "Timestamps", link: "#timestamps-detail" },
            { question: "Cryptographic timestamps addressed what fundamental problem?", options: ["Currency inflation", "Document integrity", "Network speed", "User privacy"], correct: 1, topic: "Timestamps", link: "#timestamps-detail" },

            // Cypherpunks
            { question: "In what year did the Cypherpunks mailing list begin?", options: ["1990", "1991", "1992", "1993"], correct: 2, topic: "Cypherpunks", link: "#cypherpunks-detail" },
            { question: "Which of these was NOT a founding Cypherpunk?", options: ["Eric Hughes", "Timothy May", "Satoshi Nakamoto", "John Gilmore"], correct: 2, topic: "Cypherpunks", link: "#cypherpunks-detail" },
            { question: "What document outlined the Cypherpunk philosophy?", options: ["Bitcoin Whitepaper", "A Cypherpunk's Manifesto", "The Crypto Anarchist Manifesto", "Both B and C"], correct: 3, topic: "Cypherpunks", link: "#cypherpunks-detail" },
            { question: "Who invented Hashcash proof-of-work?", options: ["Hal Finney", "Adam Back", "Nick Szabo", "Wei Dai"], correct: 1, topic: "Hashcash", link: "#hashcash-detail" },
            { question: "In what year was Hashcash proposed?", options: ["1995", "1997", "1999", "2001"], correct: 1, topic: "Hashcash", link: "#hashcash-detail" },
            { question: "What was Hashcash originally designed to combat?", options: ["Double spending", "Email spam", "DDoS attacks", "Sybil attacks"], correct: 1, topic: "Hashcash", link: "#hashcash-detail" },
            { question: "Who proposed b-money in 1998?", options: ["Nick Szabo", "Wei Dai", "Hal Finney", "Adam Back"], correct: 1, topic: "B-Money", link: "#bmoney-detail" },
            { question: "Who conceived Bit Gold?", options: ["Wei Dai", "Nick Szabo", "David Chaum", "Hal Finney"], correct: 1, topic: "B-Money", link: "#bmoney-detail" },

            // Attempts
            { question: "What did RPOW stand for?", options: ["Reusable Proofs of Work", "Rapid Payment of Wealth", "Random Proof of Worth", "Reliable Protocol of Work"], correct: 0, topic: "RPOW", link: "#rpow-detail" },
            { question: "Who created RPOW in 2004?", options: ["Adam Back", "Wei Dai", "Hal Finney", "Nick Szabo"], correct: 2, topic: "RPOW", link: "#rpow-detail" },
            { question: "What year was e-gold shut down?", options: ["2004", "2006", "2008", "2010"], correct: 2, topic: "E-Gold", link: "#egold-detail" },
            { question: "Why was e-gold ultimately shut down?", options: ["Technical failure", "Lack of users", "Money laundering charges", "Competition from PayPal"], correct: 2, topic: "E-Gold", link: "#egold-detail" },

            // Genesis
            { question: "When was the Bitcoin whitepaper published?", options: ["August 2008", "October 2008", "December 2008", "January 2009"], correct: 1, topic: "Whitepaper", link: "#whitepaper-detail" },
            { question: "What is the title of the Bitcoin whitepaper?", options: ["Digital Cash", "Bitcoin: A Peer-to-Peer Electronic Cash System", "Cryptocurrency Manifesto", "The Future of Money"], correct: 1, topic: "Whitepaper", link: "#whitepaper-detail" },
            { question: "What message was encoded in the Genesis Block?", options: ["Hello World", "Let there be Bitcoin", "The Times 03/Jan/2009 Chancellor on brink of second bailout for banks", "In code we trust"], correct: 2, topic: "Genesis Block", link: "#genesis-detail" },
            { question: "What date was the Genesis Block mined?", options: ["October 31, 2008", "January 3, 2009", "January 12, 2009", "May 22, 2010"], correct: 1, topic: "Genesis Block", link: "#genesis-detail" },
            { question: "Who received the first Bitcoin transaction from Satoshi?", options: ["Nick Szabo", "Adam Back", "Hal Finney", "Wei Dai"], correct: 2, topic: "Running Bitcoin", link: "#running-bitcoin-detail" },
            { question: "What did Hal Finney famously tweet on January 10, 2009?", options: ["Bitcoin is the future", "Running bitcoin", "First transaction complete", "Mining my first block"], correct: 1, topic: "Running Bitcoin", link: "#running-bitcoin-detail" },

            // Ecosystem
            { question: "What is Bitcoin Pizza Day?", options: ["Satoshi's birthday", "First real-world Bitcoin purchase", "Bitcoin's whitepaper anniversary", "First exchange opening"], correct: 1, topic: "Pizza Day", link: "#pizza-detail" },
            { question: "How many bitcoins were paid for two pizzas on Bitcoin Pizza Day?", options: ["100", "1,000", "10,000", "100,000"], correct: 2, topic: "Pizza Day", link: "#pizza-detail" },
            { question: "What date is Bitcoin Pizza Day?", options: ["January 3", "May 22", "October 31", "December 25"], correct: 1, topic: "Pizza Day", link: "#pizza-detail" },
            { question: "In what year did Mt. Gox open for Bitcoin trading?", options: ["2009", "2010", "2011", "2012"], correct: 1, topic: "Mt. Gox", link: "#mtgox-open-detail" },
            { question: "What was Mt. Gox originally created for?", options: ["Bitcoin trading", "Magic: The Gathering card trading", "Stock trading", "Gold trading"], correct: 1, topic: "Mt. Gox", link: "#mtgox-open-detail" },
            { question: "What year did Silk Road launch?", options: ["2010", "2011", "2012", "2013"], correct: 1, topic: "Silk Road", link: "#silkroad-detail" },
            { question: "Who founded Silk Road?", options: ["Mark Karpeles", "Ross Ulbricht", "Charlie Shrem", "Roger Ver"], correct: 1, topic: "Silk Road", link: "#silkroad-detail" },
            { question: "When did Satoshi Nakamoto disappear from public communication?", options: ["2009", "2010", "2011", "2012"], correct: 2, topic: "Satoshi", link: "#satoshi-disappear-detail" },
            { question: "What was the block reward before the first halving?", options: ["100 BTC", "50 BTC", "25 BTC", "12.5 BTC"], correct: 1, topic: "Halving", link: "#halving-detail" },
            { question: "In what year did the first Bitcoin halving occur?", options: ["2011", "2012", "2013", "2014"], correct: 1, topic: "Halving", link: "#halving-detail" },
            { question: "What event in 2013 caused a surge in Bitcoin interest in Europe?", options: ["Mt. Gox hack", "Cyprus banking crisis", "Silk Road shutdown", "First Bitcoin ATM"], correct: 1, topic: "Cyprus", link: "#cyprus-detail" },
            { question: "When did the FBI shut down Silk Road?", options: ["2012", "2013", "2014", "2015"], correct: 1, topic: "Silk Road Shutdown", link: "#silkroad-shutdown-detail" },
            { question: "Where was the first Bitcoin ATM installed?", options: ["New York", "London", "Vancouver", "Tokyo"], correct: 2, topic: "Bitcoin ATM", link: "#btc-atm-detail" },
            { question: "When did Bitcoin first cross $1,000?", options: ["2012", "2013", "2014", "2015"], correct: 1, topic: "Bitcoin $1000", link: "#btc-1000-detail" },
            { question: "How many bitcoins were lost in the Mt. Gox collapse?", options: ["100,000", "450,000", "850,000", "1,000,000"], correct: 2, topic: "Mt. Gox Collapse", link: "#mtgox-collapse-detail" },
            { question: "In what year did Mt. Gox collapse?", options: ["2012", "2013", "2014", "2015"], correct: 2, topic: "Mt. Gox Collapse", link: "#mtgox-collapse-detail" },
            { question: "When was Blockstream founded?", options: ["2012", "2013", "2014", "2015"], correct: 2, topic: "Blockstream", link: "#blockstream-detail" },
            { question: "What technology did Blockstream develop to scale Bitcoin?", options: ["Lightning Network", "Sidechains (Liquid)", "SegWit", "Taproot"], correct: 1, topic: "Blockstream", link: "#blockstream-detail" },
            { question: "Who is the CEO of Blockstream?", options: ["Adam Back", "Hal Finney", "Nick Szabo", "Gavin Andresen"], correct: 0, topic: "Blockstream", link: "#blockstream-detail" }
        ];

        let currentQuizQuestion = 0;
        let userAnswers = [];
        let shuffledQuestions = [];

        const quizModal = document.getElementById('quizModal');
        const quizResultsModal = document.getElementById('quizResultsModal');
        const startQuizBtn = document.getElementById('startQuizBtn');
        const quizCloseBtn = document.getElementById('quizClose');
        const resultsCloseBtn = document.getElementById('resultsClose');
        const quizContent = document.getElementById('quizContent');
        const quizProgressText = document.getElementById('quizProgress');
        const quizProgressFill = document.getElementById('quizProgressFill');
        const prevBtn = document.getElementById('quizPrev');
        const nextBtn = document.getElementById('quizNext');
        const submitBtn = document.getElementById('quizSubmit');
        const retakeBtn = document.getElementById('retakeQuiz');
        const shareBtn = document.getElementById('shareScore');

        function shuffleArray(array) {
            const shuffled = [...array];
            for (let i = shuffled.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [shuffled[i], shuffled[j]] = [shuffled[j], shuffled[i]];
            }
            return shuffled;
        }

        function startQuiz() {
            shuffledQuestions = shuffleArray(quizQuestions).slice(0, 21);
            userAnswers = new Array(21).fill(null);
            currentQuizQuestion = 0;
            quizModal.classList.add('active');
            renderQuestion();
        }

        function renderQuestion() {
            const q = shuffledQuestions[currentQuizQuestion];
            const selectedAnswer = userAnswers[currentQuizQuestion];

            quizProgressText.textContent = `Question ${currentQuizQuestion + 1} of 21`;
            quizProgressFill.style.width = `${((currentQuizQuestion + 1) / 21) * 100}%`;

            let optionsHTML = q.options.map((opt, idx) => `
                <label class="quiz-option ${selectedAnswer === idx ? 'selected' : ''}" data-index="${idx}">
                    <input type="radio" name="quiz-answer" value="${idx}" ${selectedAnswer === idx ? 'checked' : ''}>
                    <span class="option-marker"></span>
                    <span class="option-text">${opt}</span>
                </label>
            `).join('');

            quizContent.innerHTML = `
                <p class="quiz-question">${q.question}</p>
                <div class="quiz-options">${optionsHTML}</div>
            `;

            // Add click handlers
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.addEventListener('click', () => {
                    const idx = parseInt(opt.dataset.index);
                    userAnswers[currentQuizQuestion] = idx;
                    document.querySelectorAll('.quiz-option').forEach(o => o.classList.remove('selected'));
                    opt.classList.add('selected');
                });
            });

            // Update navigation
            prevBtn.disabled = currentQuizQuestion === 0;
            if (currentQuizQuestion === 20) {
                nextBtn.style.display = 'none';
                submitBtn.style.display = 'block';
            } else {
                nextBtn.style.display = 'block';
                submitBtn.style.display = 'none';
            }
        }

        function showResults() {
            let score = 0;
            const missedTopicsMap = new Map();

            shuffledQuestions.forEach((q, idx) => {
                if (userAnswers[idx] === q.correct) {
                    score++;
                } else {
                    if (!missedTopicsMap.has(q.topic)) {
                        missedTopicsMap.set(q.topic, { topic: q.topic, link: q.link });
                    }
                }
            });

            document.getElementById('scoreNumber').textContent = score;

            let message = '';
            if (score === 21) message = "Perfect score! You're a Bitcoin history expert!";
            else if (score >= 18) message = "Excellent! You know your Bitcoin history well.";
            else if (score >= 14) message = "Good job! You have solid knowledge of Bitcoin's origins.";
            else if (score >= 10) message = "Not bad! There's more to learn about Bitcoin's journey.";
            else message = "Keep exploring! Bitcoin's history is fascinating.";
            document.getElementById('scoreMessage').textContent = message;

            const readingList = document.getElementById('readingList');
            const furtherReading = document.getElementById('furtherReading');

            const topicData = {
                'Diffie-Hellman': { icon: '🔐', desc: 'The 1976 breakthrough that made secure key exchange possible without prior secrets.' },
                'eCash': { icon: '💳', desc: 'David Chaum\'s 1983 invention of blind signatures for anonymous digital payments.' },
                'Timestamps': { icon: '⏰', desc: 'Haber & Stornetta\'s 1991 system for proving document existence at a specific time.' },
                'Cypherpunks': { icon: '👤', desc: 'The 1992 movement of activists advocating privacy through cryptography.' },
                'Hashcash': { icon: '⛏️', desc: 'Adam Back\'s 1997 proof-of-work system that influenced Bitcoin\'s mining.' },
                'B-Money': { icon: '💰', desc: 'Wei Dai\'s 1998 proposal for an anonymous, distributed electronic cash system.' },
                'RPOW': { icon: '🔄', desc: 'Hal Finney\'s 2004 reusable proof-of-work system, a direct Bitcoin precursor.' },
                'E-Gold': { icon: '🥇', desc: 'The 2006 cautionary tale of centralized digital currency and regulatory action.' },
                'Whitepaper': { icon: '📄', desc: 'Satoshi Nakamoto\'s 2008 paper introducing Bitcoin to the world.' },
                'Genesis Block': { icon: '⚡', desc: 'The first Bitcoin block, mined January 3, 2009, with its famous newspaper headline.' },
                'Running Bitcoin': { icon: '🏃', desc: 'Hal Finney\'s historic January 2009 tweet announcing he was running Bitcoin.' },
                'Pizza Day': { icon: '🍕', desc: 'The first real-world Bitcoin transaction: 10,000 BTC for two pizzas in 2010.' },
                'Mt. Gox': { icon: '🏛️', desc: 'The Tokyo exchange that became the world\'s largest Bitcoin trading platform.' },
                'Silk Road': { icon: '🛣️', desc: 'The 2011 darknet marketplace that proved Bitcoin\'s utility as digital cash.' },
                'Satoshi': { icon: '👻', desc: 'The mysterious 2011 disappearance of Bitcoin\'s pseudonymous creator.' },
                'Halving': { icon: '✂️', desc: 'The 2012 event that cut Bitcoin\'s block reward in half for the first time.' },
                'Cyprus': { icon: '🏦', desc: 'The 2013 banking crisis that highlighted Bitcoin as an alternative store of value.' },
                'Silk Road Shutdown': { icon: '🚫', desc: 'The FBI\'s 2013 seizure of Silk Road and arrest of Ross Ulbricht.' },
                'Bitcoin ATM': { icon: '🏧', desc: 'The world\'s first Bitcoin ATM, installed in Vancouver in October 2013.' },
                'Bitcoin $1000': { icon: '📈', desc: 'Bitcoin\'s first breakthrough to $1,000 in November 2013.' },
                'Mt. Gox Collapse': { icon: '💥', desc: 'The 2014 exchange failure that lost 850,000 bitcoins and shook the industry.' },
                'Blockstream': { icon: '🌊', desc: 'The 2014 founding of a company dedicated to Bitcoin infrastructure development.' }
            };

            if (missedTopicsMap.size > 0) {
                furtherReading.style.display = 'block';
                const uniqueTopics = Array.from(missedTopicsMap.values()).slice(0, 4);
                readingList.innerHTML = uniqueTopics.map(t => {
                    const data = topicData[t.topic] || { icon: '📖', desc: 'Learn more about this topic.' };
                    return `<a href="${t.link}" class="reading-link" onclick="closeResultsAndNavigate('${t.link}'); return false;">
                        <div class="reading-icon">${data.icon}</div>
                        <div class="reading-info">
                            <div class="reading-title">${t.topic}</div>
                            <div class="reading-desc">${data.desc}</div>
                        </div>
                    </a>`;
                }).join('');
            } else {
                furtherReading.style.display = 'none';
            }

            quizModal.classList.remove('active');
            quizResultsModal.classList.add('active');
        }

        let isFromQuizReview = false;

        function closeResultsAndNavigate(link) {
            // Navigate to the detail section from quiz review
            const detailId = link.replace('#', '');
            const detailSection = document.getElementById(detailId);
            if (detailSection) {
                isFromQuizReview = true;
                isInDetailView = true;
                activeDetailId = detailId;

                // Update back button text
                if (backToTimelineBtn) {
                    backToTimelineBtn.innerHTML = '<span class="arrow-up">↑</span> Back to Quiz Review';
                }

                // Make parent event visible (detail sections are inside timeline-events)
                const parentEvent = detailSection.closest('.timeline-event');
                if (parentEvent) {
                    parentEvent.style.opacity = '1';
                    parentEvent.style.visibility = 'visible';
                    parentEvent.style.pointerEvents = 'auto';
                    parentEvent.style.zIndex = '20000';
                    parentEvent.style.position = 'fixed';
                    parentEvent.style.top = '0';
                    parentEvent.style.left = '0';
                    parentEvent.style.width = '100vw';
                    parentEvent.style.height = '100vh';
                    parentEvent.style.transform = 'none';
                    const eventCard = parentEvent.querySelector('.event-card');
                    if (eventCard) eventCard.style.display = 'none';
                    const eventQuote = parentEvent.querySelector('.event-quote');
                    if (eventQuote) eventQuote.style.display = 'none';
                }

                // Show timeline wrapper
                if (timelineWrapper) timelineWrapper.classList.add('visible');

                // Add special class for instant appearance from quiz
                detailSection.classList.add('from-quiz');
                detailSection.classList.add('active');

                // Show back button and mode toggle
                if (backToTimelineBtn) backToTimelineBtn.classList.add('visible');
                if (modeToggleBtn) modeToggleBtn.classList.add('visible');

                if (isLightMode) {
                    detailSection.classList.add('light-mode');
                }

                // Hide quiz modal and ending
                quizResultsModal.classList.remove('active');
                if (ending) ending.classList.remove('visible');
            }
        }

        function shareScore() {
            const score = document.getElementById('scoreNumber').textContent;
            const text = `I scored ${score}/21 on Blockstream's Bitcoin History page. How well do you know Bitcoin's history? Test yourself:`;
            const url = 'https://bitcoin-timeline-site.vercel.app/';
            const twitterUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}&url=${encodeURIComponent(url)}`;
            window.open(twitterUrl, '_blank');
        }

        function retakeQuiz() {
            // Reset answers but keep the same questions
            userAnswers = new Array(21).fill(null);
            currentQuizQuestion = 0;
            quizResultsModal.classList.remove('active');
            quizModal.classList.add('active');
            renderQuestion();
        }

        // Event listeners
        if (startQuizBtn) startQuizBtn.addEventListener('click', startQuiz);
        if (quizCloseBtn) quizCloseBtn.addEventListener('click', () => quizModal.classList.remove('active'));

        const resultsBackBtn = document.getElementById('resultsBackBtn');
        if (resultsBackBtn) resultsBackBtn.addEventListener('click', () => {
            quizResultsModal.classList.remove('active');
        });

        if (prevBtn) prevBtn.addEventListener('click', () => { currentQuizQuestion--; renderQuestion(); });
        if (nextBtn) nextBtn.addEventListener('click', () => { currentQuizQuestion++; renderQuestion(); });
        if (submitBtn) submitBtn.addEventListener('click', showResults);
        if (retakeBtn) retakeBtn.addEventListener('click', retakeQuiz);
        if (shareBtn) shareBtn.addEventListener('click', shareScore);
    </script>
</body>
</html>
